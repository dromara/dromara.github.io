<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta name="Blog"><link rel="alternate" hreflang="zh-cn" href="https://vuepress-theme-hope-docs-demo.netlify.app/zh/blog/LiteFlow-2.12.0.html"><meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/blog/LiteFlow-2.12.0.html"><meta property="og:title" content="Decision routing features hit, LiteFlow release of version 2.12.0, Make your code amaing!"><meta property="og:description" content="*LiteFlow is an open source orchestration rule engine that allows you to arrange your system logic arbitrarily, can choose script writing logic, supports up to seven scripting l..."><meta property="og:type" content="article"><meta property="og:image" content="https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/blog/LiteFlow-2.12.0-0.png"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2024-08-31T11:19:25.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Decision routing features hit, LiteFlow release of version 2.12.0, Make your code amaing!"><meta property="article:author" content="Platinum East"><meta property="article:published_time" content="2024-04-16T00:00:00.000Z"><meta property="article:modified_time" content="2024-08-31T11:19:25.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Decision routing features hit, LiteFlow release of version 2.12.0, Make your code amaing!","image":["https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/blog/LiteFlow-2.12.0-0.png"],"datePublished":"2024-04-16T00:00:00.000Z","dateModified":"2024-08-31T11:19:25.000Z","author":[{"@type":"Person","name":"Platinum East"}]}</script><meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate"><meta name="description" content="Non-profit organization where open-source enthusiasts gather."><script src="https://cdn.wwads.cn/js/makemoney.js" async></script><title>Decision routing features hit, LiteFlow release of version 2.12.0, Make your code amaing!</title>
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-a6accdab.css" as="style"><link rel="stylesheet" href="/assets/style-a6accdab.css">
    <link rel="modulepreload" href="/assets/app-4b5640bf.js"><link rel="modulepreload" href="/assets/LiteFlow-2.12.0.html-36bb5a40.js"><link rel="modulepreload" href="/assets/LiteFlow-2.12.0-3-c84e3060.js"><link rel="modulepreload" href="/assets/LiteFlow-2.12.0.html-8ade16e7.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt><!----><!----></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Projects" class="vp-link nav-link nav-link" href="/projects/"><!---->Projects<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Members" class="vp-link nav-link nav-link" href="/members/"><!---->Members<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="News" class="vp-link nav-link nav-link" href="/news/"><!---->News<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Blog" class="vp-link nav-link active nav-link active" href="/blog/"><!---->Blog<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Activity" class="vp-link nav-link nav-link" href="/activity/"><!---->Activity<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Donation" class="vp-link nav-link nav-link" href="/donation/"><!---->Donation<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="About" class="vp-link nav-link nav-link" href="/about/"><!---->About<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link active nav-link active" href="/blog/LiteFlow-2.12.0.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="简体中文" class="vp-link nav-link nav-link" href="/zh/blog/LiteFlow-2.12.0.html"><!---->简体中文<!----></a></li></ul></button></div></div><a class="vp-repo-link" href="https://gitee.com/dromara" target="_blank" rel="noopener noreferrer" aria-label="Gitee"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1695538305440" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="1444" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z" fill="#C71D23" p-id="1445"></path></svg></a><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/dromara" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!--[--><button type="button" class="search-pro-button" role="search" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><img class="page-cover" src="/assets/img/blog/LiteFlow-2.12.0-0.png" alt="Decision routing features hit, LiteFlow release of version 2.12.0, Make your code amaing!" no-view><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Decision routing features hit, LiteFlow release of version 2.12.0, Make your code amaing!</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Platinum East</span></span><span property="author" content="Platinum East"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-04-16T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 8 min</span><meta property="timeRequired" content="PT8M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#preface">Preface</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#decision-routing">Decision Routing</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#boolean-component">Boolean component</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#allow-startup-without-checking-node-existence">Allow startup without checking node existence</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#rewritten-python-scripting-engine">Rewritten python scripting engine</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#the-unity-of-declarative-components">The unity of declarative components</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#the-context-provides-the-way-to-get-the-alias">The context provides the way to get the alias.</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#el-level-provides-retry-keyword">EL level provides retry keyword</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#add-validation-unload-script-feature">Add validation/unload script feature</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#provide-to-view-all-nodes-under-a-rule">Provide to view all nodes under a rule</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#start-and-stop-a-rule-script">Start and stop a rule/script</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#full-list-of-updates">Full list of updates</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#adopt-team-members">Adopt team members</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#lf-club">LF CLUB</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><figure><img src="/assets/img/blog/LiteFlow-2.12.0-0.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>**LiteFlow is an open source orchestration rule engine that allows you to arrange your system logic arbitrarily, can choose script writing logic, supports up to seven scripting languages, supports rich third-party storage support, and all logic and rules can be hot changed. Design system and refactoring system artifact. * *</p><p>LiteFlow is Gitee&#39;s high star project. By the time this article was published, Gitee star was close to the 6k mark, while Github had 2.6Kstar.</p><p>At the same time, LiteFlow is also an excellent community-driven open source project in China. It has been open source for more than 3 years and has been applied to the core system by major front-line companies. According to incomplete statistics, nearly a thousand domestic companies are using it. The features and support are very good. The community has more than 5000 people. There are nearly 1800 test cases with guaranteed quality.</p><p>If you know this project for the first time, you can go to the official website or the relevant homepage to learn about it:</p><blockquote><p>Project official website:</p><blockquote><p>https://liteflow.cc</p></blockquote><p>gitee managed repository:</p><blockquote><p>https://gitee.com/dromara/liteFlow</p></blockquote><p>github managed repository:</p><blockquote><p>https://github.com/dromara/liteflow</p></blockquote></blockquote><p>Hereinafter, the article LiteFlow is referred to as LF for short.</p><h2 id="preface" tabindex="-1"><a class="header-anchor" href="#preface" aria-hidden="true">#</a> Preface</h2><p>It has been 3 months since the last version, and this time we have brought the super-large version update of v2.12.0. This version was originally intended to be released at the end of March, skipping two votes in the middle, all for the sake of a more stable version. Thank the developers for waiting.</p><p>This year, I can clearly feel that there are more and more small partners using LF, the number of people in the community is also rising, and daily consultation is constant. I believe many people are waiting for this version, which brings 19 issue updates, including a lot of major feature updates, as well as stability updates and some bug fixes reflected by the community.</p><p>In the past 3 months, my friends and LF team have been working hard for this version, and the new version of official website has also made some changes. The dynamic effect of the home page has been changed and is now more concise. The current moving picture of the background is more in line with the intention of LF&#39;s components, and the idea comes from jigsaw puzzle. Thanks to Senyang&#39;s design.</p><figure><img src="/assets/img/blog/LiteFlow-2.12.0-1.png" alt="" tabindex="0"><figcaption></figcaption></figure><figure><img src="/assets/img/blog/LiteFlow-2.12.0-2.png" alt="" tabindex="0"><figcaption></figcaption></figure><p>At the same time, v2.12.0 replaced slogan. This version of slogan is: Make your code amazing. We hope that using LF will help developers make their code more smart and amazing.</p><p>Next, let&#39;s understand what is the highlight of v2.12.0!</p><h2 id="decision-routing" tabindex="-1"><a class="header-anchor" href="#decision-routing" aria-hidden="true">#</a> Decision Routing</h2><p>Decision routing is a version feature of v2.12.0. LF brings a new use of rules, that is, the execution does not specify a specific rule ID, through the decision route EL judgment, to dynamically execute which rules, and the matching and execution process are all parallel. The (route) tag is introduced for this LF:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;chain name=&quot;chain1&quot;&gt;
    &lt;route&gt;
        AND(r1, r2, r3)
    &lt;/route&gt;
    &lt;body&gt;
        THEN(a, b, c);
    &lt;/body&gt;
&lt;/chain&gt;

&lt;chain name=&quot;chain2&quot;&gt;
    &lt;route&gt;
        AND(OR(r4, r5), NOT(r3))
    &lt;/route&gt;
    &lt;body&gt;
        SWITCH(x).TO(d, e, f);
    &lt;/body&gt;
&lt;/chain&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The EL in the decision body can only be used with or non-expressions, and the component can only be used with Boolean expressions. Please refer to the &quot;Decision Routing&quot; in the official website document for details on how to use it &#39;.</p><h2 id="boolean-component" tabindex="-1"><a class="header-anchor" href="#boolean-component" aria-hidden="true">#</a> Boolean component</h2><p>v2.12.0 is not a compatible version, the main reason is the new concept of Boolean components.</p><p>In the new version, &#39;NodeIfComponent&#39;,&#39;NodeWhileComponent&#39;, and &#39;NodeBreakComponent&#39; are removed 3 a component form, and the boolean component &#39;NodeBooleanComponent&#39; is unified &#39;. In other words, Boolean components can be used in IF,WHILE,BREAK expressions.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@LiteflowComponent(&quot;x&quot;)
public class ECmp extends NodeBooleanComponent {
    @Override
    public boolean processBoolean() throws Exception {
        // do your biz
        return true;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you upgrade the new version, you need to replace the above three components as Boolean components and replace the superclass. This process will not delay you too much time. To this end, we have prepared the &#39;2.12.0 Upgrade Guide&#39;, which has a very detailed upgrade guide, which can be found in the official website.</p><h2 id="allow-startup-without-checking-node-existence" tabindex="-1"><a class="header-anchor" href="#allow-startup-without-checking-node-existence" aria-hidden="true">#</a> Allow startup without checking node existence</h2><p>Many small partners in the community have reflected that the current mandatory startup check node existence has hindered their collaborative development. A global parameter is provided for this LF new version:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>parse-mode=PARSE_ONE_ON_FIRST_EXEC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This &#39;parse-mode&#39; replaces the previous &#39;parse-on-start &#39;. This parameter has three values:</p><table><thead><tr><th>Set value</th><th>Meaning</th></tr></thead><tbody><tr><td>PARSE_ALL_ON_START</td><td>Parse all rules at startup, this is the default value without configuration</td></tr><tr><td>PARSE_ALL_ON_FIRST_EXEC</td><td>Rules are not parsed at startup, but the first time any rule is executed, all</td></tr><tr><td>PARSE_ONE_ON_FIRST_EXEC</td><td>Rules are not parsed at startup, but only the corresponding rules are parsed when the relevant rules are executed for the first time.</td></tr></tbody></table><p>For a detailed explanation of this part, please see &#39;Metadata Management-&gt; Start Do Not Check Rules&#39; in the official website document &#39;.</p><h2 id="rewritten-python-scripting-engine" tabindex="-1"><a class="header-anchor" href="#rewritten-python-scripting-engine" aria-hidden="true">#</a> Rewritten python scripting engine</h2><p>LF provides python script support, but this parsing engine has always had some problems. Perhaps there are not many people in the community using python engine, so this problem has not been exposed. Since someone uses it, since there is a problem. Then we need to fix this problem.</p><p>To this end, we overturned the previous implementation of the python parsing engine and re-wrote the 1 version to solve the problem that the python script cannot return normally.</p><h2 id="the-unity-of-declarative-components" tabindex="-1"><a class="header-anchor" href="#the-unity-of-declarative-components" aria-hidden="true">#</a> The unity of declarative components</h2><p>In fact, this feature has been implemented as early as 2.11.4, and is not strictly a new version of the feature. However, due to compatibility, it is not stated in the 2.11.X document.</p><p>Before LF classification declaration type and method level declaration type, and the class declaration type in the declaration than the method level declaration type one more &#39;@ LiteflowCmpDefine&#39; annotation, once a small partner said that this is a bit redundant, and a bit fragmented.</p><p>Therefore, LF can not use this annotation in the new declaration. Basically, class-level declarative and method-level declarative are unified. If you define a component in a class, that is class-level declarative, and defining multiple components is method-level declarative. Of course, the previous definition is still valid. LF is compatible.</p><p>This is the class level declarative:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@LiteflowComponent(&quot;a&quot;)
public class ACmp{
  
    @LiteflowMethod(LiteFlowMethodEnum.PROCESS, nodeType = NodeTypeEnum.COMMON)
    public void processAcmp(NodeComponent bindCmp) {
        System.out.println(&quot;ACmp executed!&quot;);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is a method level declarative：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@LiteflowComponent
public class CmpConfig {

    //普通组件的定义
    @LiteflowMethod(value = LiteFlowMethodEnum.PROCESS, nodeId = &quot;a&quot;, nodeName = &quot;A组件&quot;)
    public void processA(NodeComponent bindCmp) {
        ...
    }

    //SWITCH组件的定义
    @LiteflowMethod(value = LiteFlowMethodEnum.PROCESS_SWITCH, nodeId = &quot;b&quot;, nodeName = &quot;B组件&quot;, nodeType = NodeTypeEnum.SWITCH)
    public String processB(NodeComponent bindCmp) {
        ...
    }
    
    //布尔组件的定义
    @LiteflowMethod(value = LiteFlowMethodEnum.PROCESS_BOOLEAN, nodeId = &quot;c&quot;, nodeName = &quot;C组件&quot;, nodeType = NodeTypeEnum.BOOLEAN)
    public boolean processC(NodeComponent bindCmp) {
        ...
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="the-context-provides-the-way-to-get-the-alias" tabindex="-1"><a class="header-anchor" href="#the-context-provides-the-way-to-get-the-alias" aria-hidden="true">#</a> The context provides the way to get the alias.</h2><p>I believe everyone knows that the context is obtained through &#39;this.getContextBean&#39; or&#39;this. getFirstContextBean. However, these acquisition methods are all acquired through class. If two contexts of the same class are passed in, there will be problems.</p><p>LF introduced the method of obtaining according to alias in the new version. To define an alias of a context, it is very simple. You only need to label it with the&#39; @ ContextBean&#39; annotation:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@ContextBean(&quot;anyName&quot;)
public class YourContext {
    ...
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When acquiring, LF provides a new acquisition method:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@Component(&quot;a&quot;)
public class ACmp extends NodeComponent {

    @Override
    public void process() {
        TestContext context = this.getContextBean(&quot;anyName&quot;);
        ...
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This feature can solve the same class as the context of the scenario.</p><h2 id="el-level-provides-retry-keyword" tabindex="-1"><a class="header-anchor" href="#el-level-provides-retry-keyword" aria-hidden="true">#</a> EL level provides retry keyword</h2><p>LF provided the retry feature before, but the retry feature is provided through the &#39;@ LiteflowRetry&#39; annotation. This annotation is on the class, and there is no way to reflect it in the rule EL. In the new version, we provide the &#39;retry&#39; keyword based on the EL level, and apply the retry feature to arbitrary expressions instead of just components.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;chain id=&quot;chain1&quot;&gt;
    THEN(a, b.retry(3));
&lt;/chain&gt;

&lt;chain id=&quot;chain2&quot;&gt;
    THEN(a, b).retry(3);
&lt;/chain&gt;

&lt;chain id=&quot;chain3&quot;&gt;
    FOR(c).DO(a).retry(3);
&lt;/chain&gt;

&lt;chain id=&quot;chain4&quot;&gt;
    exp = SWITCH(x).to(m,n,p);
    IF(f, exp.retry(3), b);
&lt;/chain&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For details about the usage of the &#39;retry&#39; keyword, please refer to &#39;Advanced Features-&gt; Retry in EL&#39; in the official website document &#39;.</p><h2 id="add-validation-unload-script-feature" tabindex="-1"><a class="header-anchor" href="#add-validation-unload-script-feature" aria-hidden="true">#</a> Add validation/unload script feature</h2><p>In the new version, we provide an api for verifying scripts and uninstalling scripts. Specific usage is as follows:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>boolean isValid = ScriptValidator.validate(script);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The usage of the unload script is as follows:</p><p>&#39;&#39;&#39; FlowBus.unloadScriptNode(String nodeId); &#39;&#39;&#39;</p><h2 id="provide-to-view-all-nodes-under-a-rule" tabindex="-1"><a class="header-anchor" href="#provide-to-view-all-nodes-under-a-rule" aria-hidden="true">#</a> Provide to view all nodes under a rule</h2><p>In the new version, we also provide an api to view all nodes under chain:</p><p>&#39;&#39;&#39; List(Node) nodeList = FlowBus.getNodesByChainId(&quot;chain1&quot;); &#39;&#39;&#39;</p><h2 id="start-and-stop-a-rule-script" tabindex="-1"><a class="header-anchor" href="#start-and-stop-a-rule-script" aria-hidden="true">#</a> Start and stop a rule/script</h2><p>In the data, LF has long supported the enable of rules and scripts, but in other storage plug-ins, we did not support it before.</p><p>We also support the new version. Since many storage plug-ins such as zk,etcd,redis,apollo and other rules/scripts are KV structures, we have made some modifications to the structure of key.</p><p>The full form of the rule key is &#39;Rule ID[: Enabled] &#39;.</p><p>The complete format of the script key is: &#39;Script component ID: script type [: script name: script language: enabled] &#39;.</p><p>where the values in square brackets are optional.</p><p>For a detailed explanation of this part, please refer to the 1 chapter of &quot;Rules and Configuration Sources&quot; in the official document.</p><h2 id="full-list-of-updates" tabindex="-1"><a class="header-anchor" href="#full-list-of-updates" aria-hidden="true">#</a> Full list of updates</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>特性 #I96A33 为LF增加决策表特性

https://gitee.com/dromara/liteFlow/issues/I96A33

特性 #I9DQDU 允许对不存在的组件增加全局参数

https://gitee.com/dromara/liteFlow/issues/I9DQDU

特性 #I9050W 为每一个上下文提供一个名字，使用时可以根据名字来获取

https://gitee.com/dromara/liteFlow/issues/I9050W

特性 #I8PL2M EL语句里可以设置重试次数，类似于EL中的超时时间

https://gitee.com/dromara/liteFlow/issues/I8PL2M

特性 #I61D1N 规则层面增加一个enable的选项，可以禁用规则

https://gitee.com/dromara/liteFlow/issues/I61D1N

特性 #I8YNCB 查看某一个chainId下的所有node

https://gitee.com/dromara/liteFlow/issues/I8YNCB

特性 #I8HDIA 新增一个验证脚本的方法

https://gitee.com/dromara/liteFlow/issues/I8HDIA

增强 #I8SMQB BREAK、IF、WHILE组件统一变成布尔组件

https://gitee.com/dromara/liteFlow/issues/I8SMQB

增强 #I8MW6Q 没有脚本（node）加载后没有提供卸载的方法，可能造成脚本一直占用内存

https://gitee.com/dromara/liteFlow/issues/I8MW6Q

增强 #I905AD 优化注解的获取速度，优化性能

https://gitee.com/dromara/liteFlow/issues/I905AD

增强 #I95XTD python脚本无法写return脚本

https://gitee.com/dromara/liteFlow/issues/I95XTD

增强 #I90IRR 设置超时maxWaitSenconds之后，超时的组件仍旧执行会报出NPE的问题

https://gitee.com/dromara/liteFlow/issues/I90IRR

增强 #I9F2HP 链路继承中的占位符换成双括弧

https://gitee.com/dromara/liteFlow/issues/I9F2HP

增强 #I98L0S 现版本需要依赖jackson2.16，缺少toPrettyString方法

https://gitee.com/dromara/liteFlow/issues/I98L0S

增强 #I97Y7Y 2.11.4.2版本中ComponentScanner初始化失败，建议重写BeanPostProcessor#postProcessBeforeInitialization

https://gitee.com/dromara/liteFlow/issues/I97Y7Y

增强 #I91AUT 对于诸如isContinueOnError或isAccess这样的方法，期望能够提供set形式的调用

https://gitee.com/dromara/liteFlow/issues/I91AUT

修复 #I932V4 组件降级，在寻找降级组件时，仍应该去查找下有没有对应的组件

https://gitee.com/dromara/liteFlow/issues/I932V4

修复 #I8YDGE 在迭代循环组件中，无法获取子流程传递的请求参数

https://gitee.com/dromara/liteFlow/issues/I8YDGE

修复 #I8Y0X4 并行循环中有可能导致的ConditionStack的并发问题

https://gitee.com/dromara/liteFlow/issues/I8Y0X4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="adopt-team-members" tabindex="-1"><a class="header-anchor" href="#adopt-team-members" aria-hidden="true">#</a> Adopt team members</h2><p>At present, there are 11 members in LF 1, and we also hope to attract more developers to join the open source team. If you want to join the open source team, the &quot;certificate of submission&quot; is 3 PR, which can only be qualified if you successfully pass the author&#39;s review and be included in the lead. If you are a student friend, you will pass if you complete the topic assigned by the author and successfully join the main task.</p><h2 id="lf-club" tabindex="-1"><a class="header-anchor" href="#lf-club" aria-hidden="true">#</a> LF CLUB</h2><p>LF CLUB is a premium paid community founded by the authors.</p><p>LF CLUB helps users of all LiteFlow frameworks, as well as potential developers who want to use LiteFlow.</p><p>In addition to providing members with the most timely and detailed consulting services, 11 articles have been updated in the series of vernacular analysis LF, and this series will be more than 50 articles. All are exclusive content. It will not be published on other platforms.</p><p>In addition, there will be other high-concurrency parsing, Java spring using advanced skills and other series, as well as LF-related processes, introduction of new features, and so on.</p><p>It is updated every 2 to 3 days. If you are interested in small partners, you can scan the following two-dimensional code to see the introduction.</p><figure><img src="/assets/img/blog/LiteFlow-2.12.0-3.png" alt="" tabindex="0"><figcaption></figcaption></figure></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: itanxy@126.com">itanxyu</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="page-footer" data-v-0ba8c0e3><!----><div class="copyright" data-v-0ba8c0e3><p data-v-0ba8c0e3> Copyright ©2018-2024 <a href="/" data-v-0ba8c0e3>@dromara. org. All Rights Reserved</a></p></div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-4b5640bf.js" defer></script>
  </body>
</html>
