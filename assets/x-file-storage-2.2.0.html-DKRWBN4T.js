import{_ as n,a}from"./x-file-storage-2.2.0-1-WyhJ8i8r.js";import{_ as e,c as i,a as l,o as p}from"./app-DmbP3YJY.js";const t={};function r(d,s){return p(),i("div",null,s[0]||(s[0]=[l('<h3 id="" tabindex="-1"><a class="header-anchor" href="#"><span><img src="'+n+`" alt=""></span></a></h3><p>åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡</p><p>x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn</p><h1 id="ğŸ“šç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“šç®€ä»‹"><span>ğŸ“šç®€ä»‹</span></a></h1><p>ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸ºäº‘ OBSã€ä¸ƒç‰›äº‘ Kodoã€è…¾è®¯äº‘ COSã€ç™¾åº¦äº‘ BOSã€åˆæ‹äº‘ USSã€MinIOã€ Amazon S3ã€GoogleCloud Storageã€FastDFSã€ Azure Blob Storageã€Cloudflare R2ã€é‡‘å±±äº‘ KS3ã€ç¾å›¢äº‘ MSSã€äº¬ä¸œäº‘ OSSã€å¤©ç¿¼äº‘ OOSã€ç§»åŠ¨ äº‘EOSã€æ²ƒäº‘ OSSã€ç½‘æ˜“æ•°å¸† NOSã€Ucloud US3ã€é’äº‘ QingStorã€å¹³å®‰äº‘ OBSã€é¦–äº‘ OSSã€IBM COSã€å…¶å®ƒå…¼å®¹ S3 åè®®çš„å­˜å‚¨å¹³å°ã€‚æŸ¥çœ‹ æ‰€æœ‰æ”¯æŒçš„å­˜å‚¨å¹³å°</p><p>ğŸ’¡ é€šè¿‡ WebDAV è¿æ¥åˆ° Alist åï¼Œå¯ä»¥ä½¿ç”¨ç™¾åº¦ç½‘ç›˜ã€å¤©ç¿¼äº‘ç›˜ã€é˜¿é‡Œäº‘ç›˜ã€è¿…é›·ç½‘ç›˜ç­‰å¸¸è§å­˜å‚¨æœåŠ¡ï¼ŒæŸ¥çœ‹ Alist æ”¯æŒçš„å­˜å‚¨å¹³å°</p><p>ğŸšš æ”¯æŒåœ¨ä¸åŒå­˜å‚¨å¹³å°ä¹‹é—´è¿ç§»æ–‡ä»¶ï¼Œè¯¦æƒ…æŸ¥çœ‹ è¿ç§»æ–‡ä»¶</p><p>GitHubï¼šhttps://github.com/dromara/x-file-storage Giteeï¼šhttps://gitee.com/dromara/x-file-storage</p><p>æ–‡æ¡£1ï¼šhttps://x-file-storage.dromara.org æ–‡æ¡£2ï¼šhttps://x-file-storage.xuyanwu.cn æ–‡æ¡£3ï¼šhttps://spring-file-storage.xuyanwu.cn</p><hr><h1 id="ğŸ“œæ›´æ–°å†…å®¹" tabindex="-1"><a class="header-anchor" href="#ğŸ“œæ›´æ–°å†…å®¹"><span>ğŸ“œæ›´æ–°å†…å®¹</span></a></h1><ul><li><p>æ–°å¢è·å–æ–‡ä»¶</p></li><li><p>æ–°å¢åˆ—ä¸¾æ–‡ä»¶</p></li><li><p>é‡æ„é¢„ç­¾å URL æ”¯æŒå®¢æˆ·ç«¯ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ç­‰æ“ä½œ</p></li><li><p>æ–°å¢ Solon æ’ä»¶ï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„åœ¨ Solon ä¸­ä½¿ç”¨</p></li><li><p>å‡çº§ Hutool ç‰ˆæœ¬</p></li><li><p>æ‰‹åŠ¨åˆ†ç‰‡ä¸Šä¼ åŠŸèƒ½ä¼˜åŒ–ã€ä»¥åŠå¢åŠ å¯¹ GoogleCloud Storage çš„æ”¯æŒ</p></li><li><p>ä¼˜åŒ–ç¼©ç•¥å›¾å¼‚å¸¸å¤„ç†</p></li><li><p>ä¼˜åŒ–ä»£ç ç»“æ„</p></li><li><p>ä¿®å¤åˆ†ç‰‡åœºæ™¯ä¸‹å“ˆå¸Œå€¼ä¸€è‡´é—®é¢˜</p></li><li><p>ä¿®å¤ Minio åˆ†ç‰‡ä¸Šä¼ å¶å‘æ€§æŠ¥é”™</p></li><li><p>ä¿®å¤æœ¬åœ°å­˜å‚¨æ·»åŠ é™æ€èµ„æºè®¿é—®æœªç”Ÿæ•ˆçš„é—®é¢˜</p></li></ul><hr><h1 id="ğŸ“¦ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦ä½¿ç”¨"><span>ğŸ“¦ä½¿ç”¨</span></a></h1><p>ç‚¹å‡» å¿«é€Ÿå…¥é—¨ æŸ¥çœ‹å…¨éƒ¨å­˜å‚¨å¹³å°çš„ä½¿ç”¨æ–¹æ³•ï¼</p><h4 id="ğŸ”§-é…ç½®" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-é…ç½®"><span>ğŸ”§ é…ç½®</span></a></h4><p>è¿™é‡Œä»¥é˜¿é‡Œäº‘ OSS ä¸ºä¾‹ï¼Œ<code>pom.xml</code> å¼•å…¥æœ¬é¡¹ç›®ï¼Œè¿™é‡Œé»˜è®¤æ˜¯ <code>SpringBoot</code> ç¯å¢ƒï¼Œå…¶å®ƒç¯å¢ƒå‚è€ƒ è„±ç¦» SpringBoot å•ç‹¬ä½¿ç”¨</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;!--Â å¼•å…¥æœ¬é¡¹ç›®Â --&gt;</span></span>
<span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>Â Â Â Â &lt;groupId&gt;org.dromara.x-file-storage&lt;/groupId&gt;</span></span>
<span class="line"><span>Â Â Â Â &lt;artifactId&gt;x-file-storage-spring&lt;/artifactId&gt;</span></span>
<span class="line"><span>Â Â Â Â &lt;version&gt;2.2.0&lt;/version&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span>
<span class="line"><span>&lt;!--Â å¼•å…¥Â é˜¿é‡Œäº‘Â OSSÂ SDKï¼Œå¦‚æœä½¿ç”¨å…¶å®ƒå­˜å‚¨å¹³å°ï¼Œå°±å¼•å…¥å¯¹åº”çš„Â SDKÂ Â --&gt;</span></span>
<span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>Â Â Â Â &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;</span></span>
<span class="line"><span>Â Â Â Â &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;</span></span>
<span class="line"><span>Â Â Â Â &lt;version&gt;3.16.1&lt;/version&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>application.yml</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹åŸºç¡€é…ç½®</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>dromara:</span></span>
<span class="line"><span>Â Â x-file-storage:Â #æ–‡ä»¶å­˜å‚¨é…ç½®</span></span>
<span class="line"><span>Â Â Â Â default-platform:Â aliyun-oss-1Â #é»˜è®¤ä½¿ç”¨çš„å­˜å‚¨å¹³å°</span></span>
<span class="line"><span>Â Â Â Â aliyun-oss:</span></span>
<span class="line"><span>Â Â Â Â Â Â -Â platform:Â aliyun-oss-1Â #Â å­˜å‚¨å¹³å°æ ‡è¯†</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â enable-storage:Â trueÂ Â #Â å¯ç”¨å­˜å‚¨</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â access-key:Â ??</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â secret-key:Â ??</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â end-point:Â ??</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â bucket-name:Â ??</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â domain:Â ??Â #Â è®¿é—®åŸŸåï¼Œæ³¨æ„â€œ/â€ç»“å°¾ï¼Œä¾‹å¦‚ï¼šhttps://abc.oss-cn-shanghai.aliyuncs.com/</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â base-path:Â test/Â #Â åŸºç¡€è·¯å¾„</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ğŸ”¨ç¼–ç " tabindex="-1"><a class="header-anchor" href="#ğŸ”¨ç¼–ç "><span>ğŸ”¨ç¼–ç </span></a></h4><p>åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š<code>@EnableFileStorage</code>æ³¨è§£</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@EnableFileStorage</span></span>
<span class="line"><span>@SpringBootApplication</span></span>
<span class="line"><span>publicÂ classÂ SpringFileStorageTestApplicationÂ {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â SpringApplication.run(SpringFileStorageTestApplication.class,args);</span></span>
<span class="line"><span>Â Â Â Â }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="âœ¨å¼€å§‹ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#âœ¨å¼€å§‹ä¸Šä¼ "><span>âœ¨å¼€å§‹ä¸Šä¼ </span></a></h4><p>æ”¯æŒ Fileã€MultipartFileã€byte[]ã€InputStreamã€URLã€URIã€Stringã€HttpServletRequestï¼Œå¤§æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ†ç‰‡ä¸Šä¼ ã€‚å¦‚æœæƒ³æ”¯æŒæ›´å¤šæ–¹å¼ï¼Œè¯·é˜…è¯» æ–‡ä»¶é€‚é…å™¨ ç« èŠ‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@RestController</span></span>
<span class="line"><span>publicÂ classÂ FileDetailControllerÂ {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Â Â Â Â @Autowired</span></span>
<span class="line"><span>Â Â Â Â privateÂ FileStorageServiceÂ fileStorageService;//æ³¨å…¥å®åˆ—</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Â Â Â Â /**</span></span>
<span class="line"><span>Â Â Â Â Â *Â ä¸Šä¼ æ–‡ä»¶</span></span>
<span class="line"><span>Â Â Â Â Â */</span></span>
<span class="line"><span>Â Â Â Â @PostMapping(&quot;/upload&quot;)</span></span>
<span class="line"><span>Â Â Â Â publicÂ FileInfoÂ upload(MultipartFileÂ file)Â {</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â //åªéœ€è¦è¿™ä¸€è¡Œä»£ç å³å¯ä¸Šä¼ æˆåŠŸ</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â returnÂ fileStorageService.of(file).upload();</span></span>
<span class="line"><span>Â Â Â Â }</span></span>
<span class="line"><span>Â Â Â Â </span></span>
<span class="line"><span>Â Â Â Â /**</span></span>
<span class="line"><span>Â Â Â Â Â *Â ä¸Šä¼ æ–‡ä»¶ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶Â url</span></span>
<span class="line"><span>Â Â Â Â Â */</span></span>
<span class="line"><span>Â Â Â Â @PostMapping(&quot;/upload2&quot;)</span></span>
<span class="line"><span>Â Â Â Â publicÂ StringÂ upload2(MultipartFileÂ file)Â {</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â FileInfoÂ fileInfoÂ =Â fileStorageService.of(file)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .setPath(&quot;upload/&quot;)Â //ä¿å­˜åˆ°ç›¸å¯¹è·¯å¾„ä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .setObjectId(&quot;0&quot;)Â Â Â //å…³è”å¯¹è±¡idï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .setObjectType(&quot;0&quot;)Â //å…³è”å¯¹è±¡ç±»å‹ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .putAttr(&quot;role&quot;,&quot;admin&quot;)Â //ä¿å­˜ä¸€äº›å±æ€§ï¼Œå¯ä»¥åœ¨åˆ‡é¢ã€ä¿å­˜ä¸Šä¼ è®°å½•ã€è‡ªå®šä¹‰å­˜å‚¨å¹³å°ç­‰åœ°æ–¹è·å–ä½¿ç”¨ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .upload();Â Â //å°†æ–‡ä»¶ä¸Šä¼ åˆ°å¯¹åº”åœ°æ–¹</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â returnÂ fileInfoÂ ==Â nullÂ ?Â &quot;ä¸Šä¼ å¤±è´¥ï¼&quot;Â :Â fileInfo.getUrl();</span></span>
<span class="line"><span>Â Â Â Â }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Â Â Â Â /**</span></span>
<span class="line"><span>Â Â Â Â Â *Â ä¸Šä¼ å›¾ç‰‡ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ä¿¡æ¯</span></span>
<span class="line"><span>Â Â Â Â Â *Â å›¾ç‰‡å¤„ç†ä½¿ç”¨çš„æ˜¯Â https://github.com/coobird/thumbnailator</span></span>
<span class="line"><span>Â Â Â Â Â */</span></span>
<span class="line"><span>Â Â Â Â @PostMapping(&quot;/upload-image&quot;)</span></span>
<span class="line"><span>Â Â Â Â publicÂ FileInfoÂ uploadImage(MultipartFileÂ file)Â {</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â returnÂ fileStorageService.of(file)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .image(imgÂ -&gt;Â img.size(1000,1000))Â Â //å°†å›¾ç‰‡å¤§å°è°ƒæ•´åˆ°Â 1000*1000</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .thumbnail(thÂ -&gt;Â th.size(200,200))Â Â //å†ç”Ÿæˆä¸€å¼ Â 200*200Â çš„ç¼©ç•¥å›¾</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .upload();</span></span>
<span class="line"><span>Â Â Â Â }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Â Â Â Â /**</span></span>
<span class="line"><span>Â Â Â Â Â *Â ä¸Šä¼ æ–‡ä»¶åˆ°æŒ‡å®šå­˜å‚¨å¹³å°ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ä¿¡æ¯</span></span>
<span class="line"><span>Â Â Â Â Â */</span></span>
<span class="line"><span>Â Â Â Â @PostMapping(&quot;/upload-platform&quot;)</span></span>
<span class="line"><span>Â Â Â Â publicÂ FileInfoÂ uploadPlatform(MultipartFileÂ file)Â {</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â returnÂ fileStorageService.of(file)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .setPlatform(&quot;aliyun-oss-1&quot;)Â Â Â Â //ä½¿ç”¨æŒ‡å®šçš„å­˜å‚¨å¹³å°</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .upload();</span></span>
<span class="line"><span>Â Â Â Â }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Â Â Â Â /**</span></span>
<span class="line"><span>Â Â Â Â Â *Â ç›´æ¥è¯»å–Â HttpServletRequestÂ ä¸­çš„æ–‡ä»¶è¿›è¡Œä¸Šä¼ ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ä¿¡æ¯</span></span>
<span class="line"><span>Â Â Â Â Â *Â ä½¿ç”¨è¿™ç§æ–¹å¼æœ‰äº›æ³¨æ„äº‹é¡¹ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£Â åŸºç¡€åŠŸèƒ½-ä¸Šä¼ Â ç« èŠ‚</span></span>
<span class="line"><span>Â Â Â Â Â */</span></span>
<span class="line"><span>Â Â Â Â @PostMapping(&quot;/upload-request&quot;)</span></span>
<span class="line"><span>Â Â Â Â publicÂ FileInfoÂ uploadPlatform(HttpServletRequestÂ request)Â {</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â returnÂ fileStorageService.of(request).upload();</span></span>
<span class="line"><span>Â Â Â Â }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ğŸ¨å…¶å®ƒæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ğŸ¨å…¶å®ƒæ“ä½œ"><span>ğŸ¨å…¶å®ƒæ“ä½œ</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//æ‰‹åŠ¨æ„é€ æ–‡ä»¶ä¿¡æ¯ï¼Œå¯ç”¨äºå…¶å®ƒæ“ä½œ</span></span>
<span class="line"><span>FileInfoÂ fileInfoÂ =Â newÂ FileInfo()</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â .setPlatform(&quot;huawei-obs-1&quot;)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â .setBasePath(&quot;test/&quot;)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â .setPath(&quot;aa/&quot;)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â .setFilename(&quot;image.png&quot;)</span></span>
<span class="line"><span>Â Â Â Â Â Â Â Â .setThFilename(&quot;image.png.min.jpg&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span>booleanÂ existsÂ =Â fileStorageService.exists(fileInfo);</span></span>
<span class="line"><span>//ä¸‹è½½</span></span>
<span class="line"><span>byte[]Â bytesÂ =Â fileStorageService.download(fileInfo).bytes();</span></span>
<span class="line"><span>//åˆ é™¤</span></span>
<span class="line"><span>fileStorageService.delete(fileInfo);</span></span>
<span class="line"><span>//å…¶å®ƒæ›´å¤šæ“ä½œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°†æ–‡ä»¶è®°å½•ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œè¿˜å¯ä»¥æ›´æ–¹ä¾¿çš„æ ¹æ® URL è¿›è¡Œæ“ä½œäº†ï¼Œè¯¦æƒ…è¯·é˜…è¯» ä¿å­˜ä¸Šä¼ è®°å½• ç« èŠ‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//ç›´æ¥ä»æ•°æ®åº“ä¸­è·å–Â FileInfoÂ å¯¹è±¡ï¼Œæ›´åŠ æ–¹ä¾¿æ‰§è¡Œå…¶å®ƒæ“ä½œ</span></span>
<span class="line"><span>FileInfoÂ fileInfoÂ =Â fileStorageService.getFileInfoByUrl(&quot;https://abc.def.com/test/aa/image.png&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span>booleanÂ existsÂ =Â fileStorageService.exists(&quot;https://abc.def.com/test/aa/image.png&quot;);</span></span>
<span class="line"><span>//ä¸‹è½½</span></span>
<span class="line"><span>byte[]Â bytesÂ =Â fileStorageService.download(&quot;https://abc.def.com/test/aa/image.png&quot;).bytes();</span></span>
<span class="line"><span>//åˆ é™¤</span></span>
<span class="line"><span>fileStorageService.delete(&quot;https://abc.def.com/test/aa/image.png&quot;);</span></span>
<span class="line"><span>//å…¶å®ƒæ›´å¤šæ“ä½œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç‚¹å‡» å¿«é€Ÿå…¥é—¨ https://x-file-storage.xuyanwu.cn æŸ¥çœ‹å…¨éƒ¨å­˜å‚¨å¹³å°çš„ä½¿ç”¨æ–¹æ³•ï¼</p><hr><p>å…³äº Dromara</p><p>Dromara æ˜¯ç”±å›½å†…é¡¶å°–çš„å¼€æºé¡¹ç›®ä½œè€…å…±åŒç»„æˆçš„å¼€æºç¤¾åŒºã€‚æä¾›åŒ…æ‹¬åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæµè¡Œå·¥å…·ï¼Œä¼ä¸šçº§è®¤è¯ï¼Œå¾®æœåŠ¡RPCï¼Œè¿ç»´ç›‘æ§ï¼ŒAgentç›‘æ§ï¼Œåˆ†å¸ƒå¼æ—¥å¿—ï¼Œè°ƒåº¦ç¼–æ’ç­‰ä¸€ç³»åˆ—å¼€æºäº§å“ã€è§£å†³æ–¹æ¡ˆä¸å’¨è¯¢ã€æŠ€æœ¯æ”¯æŒä¸åŸ¹è®­è®¤è¯æœåŠ¡ã€‚æŠ€æœ¯æ ˆå…¨é¢å¼€æºå…±å»ºã€ ä¿æŒç¤¾åŒºä¸­ç«‹ï¼Œè‡´åŠ›äºä¸ºå…¨çƒç”¨æˆ·æä¾›å¾®æœåŠ¡äº‘åŸç”Ÿè§£å†³æ–¹æ¡ˆã€‚è®©å‚ä¸çš„æ¯ä¸€ä½å¼€æºçˆ±å¥½è€…ï¼Œä½“ä¼šåˆ°å¼€æºçš„å¿«ä¹ã€‚</p><p>Dromaraå¼€æºç¤¾åŒºç›®å‰æ‹¥æœ‰10+GVPé¡¹ç›®ï¼Œæ€»staræ•°é‡è¶…è¿‡åä¸‡ï¼Œæ„å»ºäº†ä¸Šä¸‡äººçš„å¼€æºç¤¾åŒºï¼Œæœ‰æˆåƒä¸Šä¸‡çš„ä¸ªäººåŠå›¢é˜Ÿåœ¨ä½¿ç”¨Dromaraç¤¾åŒºçš„å¼€æºé¡¹ç›®ã€‚</p><p><strong>æ¬¢è¿å¤§å®¶æ¥åˆ°çŸ¥è¯†æ˜Ÿçƒå’Œæˆ‘äº’åŠ¨</strong></p><p><img src="`+a+'" alt=""></p>',37)]))}const u=e(t,[["render",r],["__file","x-file-storage-2.2.0.html.vue"]]),v=JSON.parse('{"path":"/zh/news/x-file-storage-2.2.0.html","title":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.2.0 ç‰ˆæœ¬ï¼Œæ›´æ–°å¤§é‡å†…å®¹ï¼Œæ–°å¢ Solon æ’ä»¶","lang":"zh-CN","frontmatter":{"title":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.2.0 ç‰ˆæœ¬ï¼Œæ›´æ–°å¤§é‡å†…å®¹ï¼Œæ–°å¢ Solon æ’ä»¶","author":"X File Storage","date":"2024-07-03T00:00:00.000Z","cover":"/assets/img/news/x-file-storage-2.2.0-0.svg","head":[["meta",{"name":"æ–°é—»"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://vuepress-theme-hope-docs-demo.netlify.app/news/x-file-storage-2.2.0.html"}],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/zh/news/x-file-storage-2.2.0.html"}],["meta",{"property":"og:title","content":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.2.0 ç‰ˆæœ¬ï¼Œæ›´æ–°å¤§é‡å†…å®¹ï¼Œæ–°å¢ Solon æ’ä»¶"}],["meta",{"property":"og:description","content":"åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡ x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn ğŸ“šç®€ä»‹ ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸ºäº‘..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.2.0-0.svg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-08-17T16:37:54.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.2.0-0.svg"}],["meta",{"name":"twitter:image:alt","content":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.2.0 ç‰ˆæœ¬ï¼Œæ›´æ–°å¤§é‡å†…å®¹ï¼Œæ–°å¢ Solon æ’ä»¶"}],["meta",{"property":"article:author","content":"X File Storage"}],["meta",{"property":"article:published_time","content":"2024-07-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-17T16:37:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.2.0 ç‰ˆæœ¬ï¼Œæ›´æ–°å¤§é‡å†…å®¹ï¼Œæ–°å¢ Solon æ’ä»¶\\",\\"image\\":[\\"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.2.0-0.svg\\",\\"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.2.0-1.webp\\"],\\"datePublished\\":\\"2024-07-03T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-17T16:37:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"X File Storage\\"}]}"]],"description":"åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡ x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn ğŸ“šç®€ä»‹ ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸ºäº‘..."},"headers":[{"level":3,"title":"","slug":"","link":"#","children":[]}],"git":{"createdTime":1723712940000,"updatedTime":1723912674000,"contributors":[{"name":"itanxyu","username":"itanxyu","email":"itanxy@126.com","commits":2,"url":"https://github.com/itanxyu"}]},"readingTime":{"minutes":4.97,"words":1490},"filePathRelative":"zh/news/x-file-storage-2.2.0.md","localizedDate":"2024å¹´7æœˆ3æ—¥","autoDesc":true,"excerpt":"<h3><img src=\\"/assets/img/news/x-file-storage-2.2.0-0.svg\\" alt=\\"\\"></h3>\\n<p>åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡</p>\\n<p>x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn</p>\\n<h1>ğŸ“šç®€ä»‹</h1>\\n<p>ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸ºäº‘ OBSã€ä¸ƒç‰›äº‘ Kodoã€è…¾è®¯äº‘ COSã€ç™¾åº¦äº‘ BOSã€åˆæ‹äº‘ USSã€MinIOã€ Amazon S3ã€GoogleCloud Storageã€FastDFSã€ Azure Blob Storageã€Cloudflare R2ã€é‡‘å±±äº‘ KS3ã€ç¾å›¢äº‘ MSSã€äº¬ä¸œäº‘ OSSã€å¤©ç¿¼äº‘ OOSã€ç§»åŠ¨ äº‘EOSã€æ²ƒäº‘ OSSã€ç½‘æ˜“æ•°å¸† NOSã€Ucloud US3ã€é’äº‘ QingStorã€å¹³å®‰äº‘ OBSã€é¦–äº‘ OSSã€IBM COSã€å…¶å®ƒå…¼å®¹ S3 åè®®çš„å­˜å‚¨å¹³å°ã€‚æŸ¥çœ‹ æ‰€æœ‰æ”¯æŒçš„å­˜å‚¨å¹³å°</p>"}');export{u as comp,v as data};
