import{_ as p,r as o,o as l,c,f as s,g as n,a as e,e as t}from"./app-f20ccc99.js";const i="/assets/img/01/16106054898861.jpg",r="/assets/img/01/16106065488032.jpg",u="/assets/img/01/16106069731233.jpg",d="/assets/img/01/16106073045599.jpg",m="/assets/img/01/16106076385761.jpg",b="/assets/img/01/16106235724795.jpg",k="/assets/img/01/16106237733891.jpg",h="/assets/img/01/16106249542903.jpg",g="/assets/img/01/16106250513285.jpg",v="/assets/img/01/16106266610601.jpg",f="/assets/img/01/16106267572581.jpg",_="/assets/img/01/16106270140398.jpg",y="/assets/img/01/16106405075031.jpg",I={},x=s("h1",{id:"soul-源码分析-1-环境配置",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#soul-源码分析-1-环境配置","aria-hidden":"true"},"#"),n(" Soul 源码分析（1） 环境配置")],-1),w=s("p",null,"soul is a High-Performance Java API Gateway",-1),N={href:"https://github.com/dromara/soul",target:"_blank",rel:"noopener noreferrer"},S={href:"https://dromara.org/zh-cn/docs/soul/soul.html",target:"_blank",rel:"noopener noreferrer"},P=s("h2",{id:"_1-源代码准备",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-源代码准备","aria-hidden":"true"},"#"),n(" 1. 源代码准备")],-1),F={id:"_1-1-fork-dromara-soul源代码至自己的仓库cchenxi-soul",tabindex:"-1"},O=s("a",{class:"header-anchor",href:"#_1-1-fork-dromara-soul源代码至自己的仓库cchenxi-soul","aria-hidden":"true"},"#",-1),B={href:"https://github.com/dromara/soul.git",target:"_blank",rel:"noopener noreferrer"},A={href:"https://github.com/cchenxi/soul.git",target:"_blank",rel:"noopener noreferrer"},q=t(`<h3 id="_1-2-clone-自己仓库中的-soul-源代码至本地" tabindex="-1"><a class="header-anchor" href="#_1-2-clone-自己仓库中的-soul-源代码至本地" aria-hidden="true">#</a> 1.2. clone 自己仓库中的 soul 源代码至本地</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/cchenxi/soul.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-3-使用-idea-打开-soul-源代码" tabindex="-1"><a class="header-anchor" href="#_1-3-使用-idea-打开-soul-源代码" aria-hidden="true">#</a> 1.3.使用 idea 打开 soul 源代码</h3><h3 id="_1-4-编译-soul-源代码" tabindex="-1"><a class="header-anchor" href="#_1-4-编译-soul-源代码" aria-hidden="true">#</a> 1.4.编译 soul 源代码</h3><p>执行以下 maven 命令，等待编译完成</p><figure><img src="`+i+`" alt="-w1723" tabindex="0" loading="lazy"><figcaption>-w1723</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mvn clean package <span class="token function">install</span> <span class="token parameter variable">-Dmaven.test.skip</span><span class="token operator">=</span>true <span class="token parameter variable">-Dmaven.javadoc.skip</span><span class="token operator">=</span>true <span class="token parameter variable">-Drat.skip</span><span class="token operator">=</span>true <span class="token parameter variable">-Dcheckstyle.skip</span><span class="token operator">=</span>true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-启动-soul" tabindex="-1"><a class="header-anchor" href="#_2-启动-soul" aria-hidden="true">#</a> 2. 启动 <code>soul</code></h2><h3 id="_2-1-启动soul-admin模块" tabindex="-1"><a class="header-anchor" href="#_2-1-启动soul-admin模块" aria-hidden="true">#</a> 2.1. 启动<code>soul-admin</code>模块</h3><blockquote><p><code>soul-admin</code>是 soul 网关的后台管理系统</p></blockquote><p>选择使用 MySQL 数据库存储网关数据，修改数据源配置为自己的数据库配置。</p><figure><img src="`+r+'" alt="-w1186" tabindex="0" loading="lazy"><figcaption>-w1186</figcaption></figure><p>运行启动类 <code>org.dromara.soul.admin.SoulAdminBootstrap</code>。</p>',13),j={href:"http://localhost:9095/",target:"_blank",rel:"noopener noreferrer"},T=t('<figure><img src="'+u+'" alt="-w593" tabindex="0" loading="lazy"><figcaption>-w593</figcaption></figure><p>使用用户名<code>admin</code>，密码 <code>123456</code> 登录。</p><figure><img src="'+d+'" alt="-w1262" tabindex="0" loading="lazy"><figcaption>-w1262</figcaption></figure><h3 id="_2-2-启动soul-bootstrap模块" tabindex="-1"><a class="header-anchor" href="#_2-2-启动soul-bootstrap模块" aria-hidden="true">#</a> 2.2. 启动<code>soul-bootstrap</code>模块</h3><blockquote><p><code>soul-bootstrap</code>是网关系统的核心</p></blockquote><p>检查<code>soul-bootstrap</code>的配置</p><figure><img src="'+m+`" alt="-w917" tabindex="0" loading="lazy"><figcaption>-w917</figcaption></figure><p>这里需要配置成 <code>soul-admin</code>的 ip 和端口</p><p>控制台输出如下内容表示 <code>soul-bootstrap</code>启动成功</p><div class="language-plain line-numbers-mode" data-ext="plain"><pre class="language-plain"><code>2021-01-14 15:01:15.832  INFO 17943 --- [           main] b.s.s.d.w.WebsocketSyncDataConfiguration : you use websocket sync soul data.......
2021-01-14 15:01:15.924  INFO 17943 --- [           main] o.d.s.p.s.d.w.WebsocketSyncDataService   : websocket connection is successful.....
2021-01-14 15:01:16.113  INFO 17943 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path &#39;/actuator&#39;
log4j:WARN No appenders could be found for logger (com.alibaba.dubbo.common.logger.LoggerFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
2021-01-14 15:01:17.150  INFO 17943 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 9195
2021-01-14 15:01:17.154  INFO 17943 --- [           main] o.d.s.b.SoulBootstrapApplication         : Started SoulBootstrapApplication in 5.508 seconds (JVM running for 6.762)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-测试-http-请求转发" tabindex="-1"><a class="header-anchor" href="#_3-测试-http-请求转发" aria-hidden="true">#</a> 3. 测试 http 请求转发</h2><blockquote><p>为了方便测试，把<code>soul-examples</code>模块添加到 soul 的 pom 里</p></blockquote><h3 id="_3-1-启动一个服务" tabindex="-1"><a class="header-anchor" href="#_3-1-启动一个服务" aria-hidden="true">#</a> 3.1. 启动一个服务</h3><p>启动<code>soul-examples-http</code>项目</p><p><code>soul-examples-http</code>的 pom 中引入了依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.dromara<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>soul-spring-boot-starter-client-springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${soul.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 <code>application.yml</code>中配置</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">soul</span><span class="token punctuation">:</span>
  <span class="token key atrule">http</span><span class="token punctuation">:</span>
    <span class="token key atrule">adminUrl</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9095</span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8188</span>
    <span class="token key atrule">contextPath</span><span class="token punctuation">:</span> /http
    <span class="token key atrule">appName</span><span class="token punctuation">:</span> http
    <span class="token key atrule">full</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果 soul.http.full=false，则需要在具体的 http 接口上配置 <code>@SoulSpringMvcClient</code> 注解</p><h4 id="_3-1-1-测试-http-服务" tabindex="-1"><a class="header-anchor" href="#_3-1-1-测试-http-服务" aria-hidden="true">#</a> 3.1.1. 测试 http 服务</h4><p>执行 http 请求 <code>http://localhost:8188/test/findByUserId?userId=1</code> 结果如下图</p><figure><img src="`+b+'" alt="-w684" tabindex="0" loading="lazy"><figcaption>-w684</figcaption></figure><h4 id="_3-1-2-测试网关转发" tabindex="-1"><a class="header-anchor" href="#_3-1-2-测试网关转发" aria-hidden="true">#</a> 3.1.2. 测试网关转发</h4><p>执行 http 请求 <code>http://localhost:9195/http/test/findByUserId?userId=1</code> 结果如下图</p><p><img src="'+k+`" alt="-w665" loading="lazy"><br> 在<code>soul-bootstrap</code>的控制台中输出如下信息</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">2021</span>-01-14 <span class="token number">20</span>:42:57.123  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-11<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:42:57.125  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-11<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:42:57.126  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-11<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8188/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以观察到网关可以将请求正常转发。</p><h3 id="_3-2-启动两个服务模拟负载均衡" tabindex="-1"><a class="header-anchor" href="#_3-2-启动两个服务模拟负载均衡" aria-hidden="true">#</a> 3.2. 启动两个服务模拟负载均衡</h3><p>勾选 <code>Allow parallel run</code>，修改端口为<code>8189</code>，再次启动<code>soul-examples-http</code>项目</p><figure><img src="`+h+'" alt="-w1104" tabindex="0" loading="lazy"><figcaption>-w1104</figcaption></figure><h4 id="_3-2-1-测试-http-服务" tabindex="-1"><a class="header-anchor" href="#_3-2-1-测试-http-服务" aria-hidden="true">#</a> 3.2.1. 测试 http 服务</h4><p>执行 http 请求 <code>http://localhost:8189/test/findByUserId?userId=1</code> 结果如下图</p><figure><img src="'+g+'" alt="-w693" tabindex="0" loading="lazy"><figcaption>-w693</figcaption></figure><h4 id="_3-2-2-测试负载均衡" tabindex="-1"><a class="header-anchor" href="#_3-2-2-测试负载均衡" aria-hidden="true">#</a> 3.2.2. 测试负载均衡</h4><figure><img src="'+v+'" alt="-w1096" tabindex="0" loading="lazy"><figcaption>-w1096</figcaption></figure><p>将 8188 和 8189 两个端口对应的服务配置到选择器中</p><p>多次执行 http 请求 <code>http://localhost:9195/http/test/findByUserId?userId=1</code> 结果如下图</p><p><img src="'+f+`" alt="-w595" loading="lazy"><br> 在<code>soul-bootstrap</code>的控制台中输出如下信息</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:34.460  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-21<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:34.460  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-21<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:34.460  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-21<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8189/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:35.147  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-22<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:35.147  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-22<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:35.147  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-22<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8188/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:38.755  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-23<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:38.756  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-23<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:38.756  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-23<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8188/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:39.609  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-24<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:39.609  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-24<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:39.609  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-24<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8189/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:40.317  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-25<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:40.317  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-25<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:40.317  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>work-threads-25<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8188/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:40.976  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>-work-threads-1<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:40.976  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>-work-threads-1<span class="token punctuation">]</span> o.d.soul.plugin.base.AbstractSoulPlugin  <span class="token builtin class-name">:</span> divide selector success match , selector name :/http/test/**
<span class="token number">2021</span>-01-14 <span class="token number">20</span>:48:40.977  INFO <span class="token number">29812</span> --- <span class="token punctuation">[</span>-work-threads-1<span class="token punctuation">]</span> o.d.s.plugin.httpclient.WebClientPlugin  <span class="token builtin class-name">:</span> The request urlPath is http://172.27.121.155:8188/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>, retryTimes is <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以观察到请求既有转发到 8188 端口的，也有转发到 8189 的，可以实现负载均衡</p><h4 id="_3-2-3-压测" tabindex="-1"><a class="header-anchor" href="#_3-2-3-压测" aria-hidden="true">#</a> 3.2.3. 压测</h4><p>简单对直连和使用网关两种方式的请求进行压测</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>➜  soul git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ wrk <span class="token parameter variable">-t8</span> <span class="token parameter variable">-c40</span> <span class="token parameter variable">-d30s</span> http://localhost:8189/test/findByUserId<span class="token punctuation">\\</span>?userId<span class="token punctuation">\\</span><span class="token operator">=</span><span class="token number">1</span>
Running 30s <span class="token builtin class-name">test</span> @ http://localhost:8189/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>
  <span class="token number">8</span> threads and <span class="token number">40</span> connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     <span class="token number">6</span>.06ms   <span class="token number">28</span>.81ms <span class="token number">442</span>.25ms   <span class="token number">98.22</span>%
    Req/Sec     <span class="token number">2</span>.05k   <span class="token number">493.86</span>     <span class="token number">2</span>.84k    <span class="token number">74.82</span>%
  <span class="token number">486269</span> requests <span class="token keyword">in</span> <span class="token number">30</span>.05s, <span class="token number">51</span>.01MB <span class="token builtin class-name">read</span>
Requests/sec:  <span class="token number">16179.68</span>
Transfer/sec:      <span class="token number">1</span>.70MB
➜  soul git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ wrk <span class="token parameter variable">-t8</span> <span class="token parameter variable">-c40</span> <span class="token parameter variable">-d30s</span> http://localhost:9195/http/test/findByUserId<span class="token punctuation">\\</span>?userId<span class="token punctuation">\\</span><span class="token operator">=</span><span class="token number">1</span>
Running 30s <span class="token builtin class-name">test</span> @ http://localhost:9195/http/test/findByUserId?userId<span class="token operator">=</span><span class="token number">1</span>
  <span class="token number">8</span> threads and <span class="token number">40</span> connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    <span class="token number">14</span>.37ms   <span class="token number">18</span>.11ms <span class="token number">255</span>.66ms   <span class="token number">93.06</span>%
    Req/Sec   <span class="token number">459.41</span>    <span class="token number">139.11</span>     <span class="token number">1</span>.01k    <span class="token number">74.23</span>%
  <span class="token number">109533</span> requests <span class="token keyword">in</span> <span class="token number">30</span>.09s, <span class="token number">11</span>.49MB <span class="token builtin class-name">read</span>
Requests/sec:   <span class="token number">3639.60</span>
Transfer/sec:    <span class="token number">390</span>.98KB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以发现，使用网关后性能有些下降，主要是因为多了一层转发。</p><h4 id="_3-2-4-问题" tabindex="-1"><a class="header-anchor" href="#_3-2-4-问题" aria-hidden="true">#</a> 3.2.4. 问题</h4><p>在启动 8189 端口时，注册的客户端端口还是 8188</p><figure><img src="`+_+'" alt="-w1675" tabindex="0" loading="lazy"><figcaption>-w1675</figcaption></figure><p>先手动配置选择器的配置，后来在群友的帮助下定位到是 <code>soul.http.port</code>没有改</p><p>修改后的配置如下</p><figure><img src="'+y+'" alt="-w520" tabindex="0" loading="lazy"><figcaption>-w520</figcaption></figure>',50);function z(U,W){const a=o("ExternalLinkIcon");return l(),c("div",null,[x,s("blockquote",null,[w,s("p",null,[n("GitHub："),s("a",N,[n("https://github.com/dromara/soul"),e(a)])]),s("p",null,[n("官方文档："),s("a",S,[n("https://dromara.org/zh-cn/docs/soul/soul.html"),e(a)])])]),P,s("h3",F,[O,n(" 1.1. fork "),s("a",B,[n("dromara/soul"),e(a)]),n("源代码至自己的仓库"),s("a",A,[n("cchenxi/soul"),e(a)])]),q,s("p",null,[n("启动成功后，访问地址 "),s("a",j,[n("http://localhost:9095/"),e(a)]),n(" ，跳转到登录页 ↓")]),T])}const R=p(I,[["render",z],["__file","soul_source_learning_01.html.vue"]]);export{R as default};
