import{_ as e,c as n,a,o as i}from"./app-BmgeuuSW.js";const t={};function l(r,s){return i(),n("div",null,s[0]||(s[0]=[a(`<h2 id="author-introduction" tabindex="-1"><a class="header-anchor" href="#author-introduction"><span>Author introduction</span></a></h2><ul><li><p>Name: xuejm</p></li><li><p>dromara member of open source organization, dromara/easy-query author</p></li><li><p>java/.net related development experience of more than 10 years, rookie 1</p></li><li><p>I like open source technology and am willing to specialize in research and sharing. I have many open source projects O(∩_∩)O ha ha ~</p></li><li><p>Personal space: https://github.com/xuejmnet和 https://gitee.com/xuejm</p></li></ul><h2 id="preface" tabindex="-1"><a class="header-anchor" href="#preface"><span>Preface</span></a></h2><p>ORM is also called object relational mapping. 1 a good ORM not only supports OM, but more importantly, it makes reasonable use&#39; R&#39; and&#39; easy-query&#39; is 1 modern ORM that supports object relations and SQL expressions.</p><h2 id="easyquery-introduction" tabindex="-1"><a class="header-anchor" href="#easyquery-introduction"><span>EasyQuery Introduction</span></a></h2><p>EasyQuery is the 1 modern ORM under Java. It has strong type, lightweight and high performance characteristics. It is dedicated to solving jdbc queries, supporting object model relational filtering, implicit queries and pure SQL expression queries.</p><p>The framework supports java8 and above versions without dependencies. It supports a series of functions such as sub-database and sub-table, field encryption, cascade filtering, logical deletion, multi-tenant, dynamic table name, entity-free CRUD, calculation attribute, optimistic lock, batch processing, data tracking difference update, etc. It also provides users with great expansion and dialect custom function expansion.</p><p>! <a href="/assets/img/news/EasyQuery-0.png"></a></p><h3 id="background" tabindex="-1"><a class="header-anchor" href="#background"><span>Background</span></a></h3><p>**Do you have the following pain points in using the existing orm? * *</p><blockquote><p>1.orm usage is not easy to maintain, ide can not intelligent prompt</p><blockquote></blockquote><p>2.orm does not support join or multi-table join function is weak and cannot meet the situation of group join subquery or from subquery, etc.</p><blockquote></blockquote><p>3.orm model cascade filtering object relationship is too weak, only supports one-to-many one-to-one pull, does not support filtering</p><blockquote></blockquote><ol start="4"><li>There is no unified function to support mapping translation to all databases</li></ol><blockquote></blockquote><p>5.orm function is weak to support the business needs to add various external components to meet the business</p><blockquote></blockquote><p>6.orm cannot be perfectly integrated with the existing pojo system</p><blockquote></blockquote><ol start="7"><li>do not support sub-database sub-table need to introduce additional sharding to support</li></ol></blockquote><p>If you have the above pain points, then &#39;easy-query&#39; can help you.</p><p>**What can easy-query bring to developers? * *</p><blockquote><ol><li>simple, easy-to-use and efficient api, convenience and maintainability brought by streaming writing, and rejection of magic value</li></ol><blockquote></blockquote><ol start="2"><li>strong type can only prompt that even if you are a new beginner, Xiao Bai can easily write the desired code under the prompt of idea.</li></ol><blockquote></blockquote><ol start="3"><li>complex multi-table join, subquery, exists no longer need to worry about the need to introduce additional components in the face of various complex business scenarios</li></ol><blockquote></blockquote><ol start="4"><li>model relation query embodies ORM &#39;r&#39; incisively and vividly. it is not only a simple query result but also a perfect object model screening. just like stream query database, it can assert data related to me by methods such as&#39; any&#39;,&#39; none&#39;, etc.</li></ol><blockquote></blockquote><ol start="5"><li>structured DTO can be pulled at will. after the user creates each model relationship, the object of any structure can be quickly pulled and converted into json. there is no need to worry about the acquisition of one-to -1., many-to-many 1. and many-to-many under paging.</li></ol><blockquote></blockquote><ol start="6"><li>perfect elimination of performance problems caused by n 1</li></ol><blockquote></blockquote><ol start="7"><li>all functions are completely free and permanently open source, and the author writes his own idea plug-in to help everyone improve efficiency. happy code</li></ol></blockquote><h2 id="actual-business-case" tabindex="-1"><a class="header-anchor" href="#actual-business-case"><span>Actual business case</span></a></h2><p>The user architecture of the system is generally user roles (many-to-many), user enterprises are many-to -1, and role menus are many-to-many.</p><h3 id="user-filtering" tabindex="-1"><a class="header-anchor" href="#user-filtering"><span>User Filtering</span></a></h3><h4 id="simple-filter" tabindex="-1"><a class="header-anchor" href="#simple-filter"><span>Simple Filter</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//筛选用户名称包含小明的</span></span>
<span class="line"><span>List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user-&gt;user.name().like(&quot;小明&quot;))</span></span>
<span class="line"><span>    .toList()</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>//筛选用户名称包含小明的</span></span>
<span class="line"><span>List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>   // ifnull(name,&#39;小王&#39;) like &#39;小明&#39;</span></span>
<span class="line"><span>    .where(user-&gt;user.name().nullOrDefault(&quot;小王&quot;).like(&quot;小明&quot;))</span></span>
<span class="line"><span>    .toList()</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>//筛选用户名称包含小明并且年龄小于18岁的</span></span>
<span class="line"><span>List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user-&gt;{</span></span>
<span class="line"><span>         //name like ? and age &lt; ?</span></span>
<span class="line"><span>            user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>            user.age().lt(18)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    .toList()</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>//返回分页结果</span></span>
<span class="line"><span>EasyPageResult&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user-&gt;{</span></span>
<span class="line"><span>         //name like ? and age &lt; ?</span></span>
<span class="line"><span>            user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>            user.age().lt(18)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>   .orderBy(user-&gt;user.createTime().desc())//按用户创建时间倒序</span></span>
<span class="line"><span>    .toPageResult(1,20)</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span></span></span>
<span class="line"><span>//筛选用户名称包含小明或者年龄小于18岁的</span></span>
<span class="line"><span>List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user-&gt;{</span></span>
<span class="line"><span>       user.or(()-&gt;{</span></span>
<span class="line"><span>           //name like ? or age &lt; ?</span></span>
<span class="line"><span>            user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>            user.age().lt(18)</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    .toList()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//筛选用户名称包含小明或者年龄小于18岁的,只返回用户id和name</span></span>
<span class="line"><span>List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user-&gt;{</span></span>
<span class="line"><span>       user.or(()-&gt;{</span></span>
<span class="line"><span>           //name like ? or age &lt; ?</span></span>
<span class="line"><span>            user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>            user.age().lt(18)</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>   //仅返回id和name</span></span>
<span class="line"><span>   .select(user-&gt; user.FETCHER.id().name().fetchProxy())</span></span>
<span class="line"><span>    .toList()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="implicit-filtering" tabindex="-1"><a class="header-anchor" href="#implicit-filtering"><span>Implicit Filtering</span></a></h4><h5 id="a-pair-of-1-implicitly-join" tabindex="-1"><a class="header-anchor" href="#a-pair-of-1-implicitly-join"><span>A pair of 1 implicitly join</span></a></h5><blockquote><p>because users and enterprises have multiple pairs of 1, when filtering users, object relationships can be used to filter on the condition of enterprises to automatically join users.</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//筛选用户名称包含小明并且在JAVA企业上班的</span></span>
<span class="line"><span>List&lt;SysUser&gt; list = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user -&gt; {</span></span>
<span class="line"><span>        user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>        user.company().name().like(&quot;JAVA企业&quot;);</span></span>
<span class="line"><span>    }).toList();</span></span>
<span class="line"><span>//from user left join company on ... where user.name like ? and company.name like ?</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="one-to-many-implicit-subquery" tabindex="-1"><a class="header-anchor" href="#one-to-many-implicit-subquery"><span>One-to-many implicit subquery</span></a></h5><blockquote><p>When we create a good enterprise relationship in the user object, we can use the enterprise as a condition when filtering users. On the contrary, when we create a good relationship between the enterprise and the user in the enterprise model, we can also use the user as a condition to help us quickly filter.</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//筛选企业,筛选条件为企业下的员工存在名字是小明的</span></span>
<span class="line"><span>List&lt;Company&gt; companies = easyEntityQuery.queryable(Company.class)</span></span>
<span class="line"><span>    .where(com -&gt; {</span></span>
<span class="line"><span>      com.users().any(u -&gt; {</span></span>
<span class="line"><span>        u.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }).toList();</span></span>
<span class="line"><span>//from company where exists( from user where .... and user.name like ?)</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//筛选用户条件为用户包含/admin的菜单路径</span></span>
<span class="line"><span>List&lt;SysUser&gt; userWithMenuContainsAdminPath = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user -&gt; {</span></span>
<span class="line"><span>      //筛选条件为用户下的角色,因为角色不需要过滤所以直接展开判断菜单</span></span>
<span class="line"><span>      //菜单里面存在任意一个路径是&#39;/admin&#39;的即可</span></span>
<span class="line"><span>      user.roles().flatElement().menus().any(menu -&gt; menu.route().like(&quot;/admin&quot;));</span></span>
<span class="line"><span>    }).toList();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="multi-table-explicit-join" tabindex="-1"><a class="header-anchor" href="#multi-table-explicit-join"><span>Multi-table explicit join</span></a></h5><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>//查询用户join企业表条件是企业的名称包含JAVA企业这几个字</span></span>
<span class="line"><span>List&lt;Company&gt; companies = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .leftJoin(Company.class, (user, com) -&gt; user.companyId().eq(com.id()))</span></span>
<span class="line"><span>    .where((user, com) -&gt; com.name().like(&quot;JAVA企业&quot;))</span></span>
<span class="line"><span>    .select((user, com) -&gt; com).toList();</span></span>
<span class="line"><span>//select company.* from user left join company on user.company_id = company.id where company.name like ?</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="get-user-owned-menus-directly" tabindex="-1"><a class="header-anchor" href="#get-user-owned-menus-directly"><span>Get user-owned menus directly</span></a></h5><blockquote><p>there is no direct relationship between users and menus. the middle and role tables are many-to-many tables. there are also two tables user_role and role_menu tables in the middle.</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//查询小明用户拥有的菜单id集合</span></span>
<span class="line"><span>List&lt;String&gt; menuIds = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user -&gt; user.name().eq(&quot;小明&quot;))</span></span>
<span class="line"><span>    .toList(user -&gt; user.roles().flatElement().menus().flatElement().id());</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//查询小明用户拥有的菜单集合</span></span>
<span class="line"><span>List&lt;SysMenu&gt; menus = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user -&gt; user.name().eq(&quot;小明&quot;))</span></span>
<span class="line"><span>    .toList(user -&gt; user.roles().flatElement().menus().flatElement());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="return-user-structure-with-role" tabindex="-1"><a class="header-anchor" href="#return-user-structure-with-role"><span>Return User Structure with Role</span></a></h5><blockquote><p>Return Results</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>{user:{id:xxx,roles:[{...}]}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//返回小于18岁的用户并且附带角色</span></span>
<span class="line"><span>List&lt;SysUser&gt; userAndRoles = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .includes(user -&gt; user.roles())</span></span>
<span class="line"><span>    .where(user -&gt; user.age().lt(18))</span></span>
<span class="line"><span>    .toList();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//返回用户和用户拥有的角色分页返回一对多</span></span>
<span class="line"><span>EasyPageResult&lt;SysUser&gt; userAndRolePage = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .includes(user -&gt; user.roles())</span></span>
<span class="line"><span>    .where(user -&gt; user.age().lt(18))</span></span>
<span class="line"><span>    .toPageResult(1, 20);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="implicit-query-to-get-anonymous-results" tabindex="-1"><a class="header-anchor" href="#implicit-query-to-get-anonymous-results"><span>Implicit query to get anonymous results</span></a></h5><blockquote><p>sometimes we need to obtain the intermediate results above to facilitate java internal calculation. most orm only supports returning map objects at this time, which will lead to string all over and specific types will be lost, which is very inconvenient to use.</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>//查询返回用户id,用户名称和用户所在企业名称无需定义中间对象适用临时上下文获取或者group时候的聚合结果</span></span>
<span class="line"><span>List&lt;Draft3&lt;String, String, String&gt;&gt; userInfo = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>      .where(user -&gt; {</span></span>
<span class="line"><span>          user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>          user.company().name().like(&quot;JAVA企业&quot;);</span></span>
<span class="line"><span>      }).select(user -&gt; Select.DRAFT.of(</span></span>
<span class="line"><span>            user.id(),</span></span>
<span class="line"><span>            user.name(),</span></span>
<span class="line"><span>            user.company().name()</span></span>
<span class="line"><span>    )).toList();</span></span>
<span class="line"><span>for (Draft3&lt;String, String, String&gt; userAdnCom : userInfo) {</span></span>
<span class="line"><span>  String userId = userAdnCom.getValue1();</span></span>
<span class="line"><span>  String userName = userAdnCom.getValue2();</span></span>
<span class="line"><span>  String companyName = userAdnCom.getValue3();</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>List&lt;Draft2&lt;String, Integer&gt;&gt; list2 = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>      .where(user -&gt; {</span></span>
<span class="line"><span>        user.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>        user.company().name().like(&quot;JAVA企业&quot;);</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>      .groupBy(user -&gt; GroupKeys.TABLE1.of(user.name()))</span></span>
<span class="line"><span>      .select(group -&gt; Select.DRAFT.of(</span></span>
<span class="line"><span>          group.key1(),//user.name</span></span>
<span class="line"><span>          group.sum(group.groupTable().age())//sum(user.age)</span></span>
<span class="line"><span>      )).toList();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="structured-dto" tabindex="-1"><a class="header-anchor" href="#structured-dto"><span>Structured DTO</span></a></h3><p>Many times we need to return a custom data structure instead of the entire database structure when accessing the response.</p><p>So we use the easy-query plug-in here to quickly build a structured DTO response.</p><ul><li><p>First, we install the latest version of&#39; EasyQueryAssistant&#39; plug-in in the idea plug-in market.</p></li><li><p>The second part is right-CreateStructDTO on the package that needs to create the DTO</p></li><li><p>Step 3 Select the structured data to be returned</p></li></ul><p>! <a href="/assets/img/news/EasyQuery-1.jfif"></a></p><p>! <a href="/assets/img/news/EasyQuery-2.jfif"></a></p><blockquote><p>the following dto will be generated in the end</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * this file automatically generated by easy-query struct dto mapping</span></span>
<span class="line"><span> * 当前文件是easy-query自动生成的 结构化dto 映射</span></span>
<span class="line"><span> * {@link com.easy.query.test.entity.blogtest.SysUser }</span></span>
<span class="line"><span> *</span></span>
<span class="line"><span> * @author easy-query</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>@Data</span></span>
<span class="line"><span>public class UserRoleMenuDTO {</span></span>
<span class="line"><span>    private String id;</span></span>
<span class="line"><span>    private String name;</span></span>
<span class="line"><span>    @Navigate(value = RelationTypeEnum.ManyToMany)</span></span>
<span class="line"><span>    private List&lt;InternalRoles&gt; roles;</span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * {@link com.easy.query.test.entity.blogtest.SysRole }</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @Data</span></span>
<span class="line"><span>    public static class InternalRoles {</span></span>
<span class="line"><span>        private String id;</span></span>
<span class="line"><span>        private String name;</span></span>
<span class="line"><span>        @Navigate(value = RelationTypeEnum.ManyToMany)</span></span>
<span class="line"><span>        private List&lt;InternalMenus&gt; menus;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * {@link com.easy.query.test.entity.blogtest.SysMenu }</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @Data</span></span>
<span class="line"><span>    public static class InternalMenus {</span></span>
<span class="line"><span>        private String id;</span></span>
<span class="line"><span>        private String name;</span></span>
<span class="line"><span>        private String route;</span></span>
<span class="line"><span>        private String icon;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//一句话返回需要的结构DTO</span></span>
<span class="line"><span>//通过selectAutoInclude即可映射到我们的DTO 可以返回任意对象关系</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>List&lt;UserRoleMenuDTO&gt; menus = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(u -&gt; {</span></span>
<span class="line"><span>      u.name().like(&quot;小明&quot;);</span></span>
<span class="line"><span>      u.createTime().rangeClosed(LocalDateTime.now().plusDays(-100),LocalDateTime.now());</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    .selectAutoInclude(UserRoleMenuDTO.class)</span></span>
<span class="line"><span>    .toList();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>nullOrDefault</td><td>Return parameter value if column is null</td></tr><tr><td>count</td><td>returns long</td></tr><tr><td>intCount</td><td>Statistics returned int</td></tr><tr><td>min</td><td>min</td></tr><tr><td>max</td><td>max</td></tr></tbody></table><h4 id="string-functions" tabindex="-1"><a class="header-anchor" href="#string-functions"><span>String Functions</span></a></h4><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>subString</td><td>Cut string, default start 0</td></tr><tr><td>concat</td><td>Link multiple columns or values</td></tr><tr><td>toLower</td><td>To lowercase</td></tr><tr><td>toUpper</td><td>To uppercase</td></tr><tr><td>trim</td><td>remove spaces before and after</td></tr><tr><td>trimStart</td><td>Remove the leading space</td></tr><tr><td>trimEnd</td><td>Remove trailing spaces</td></tr><tr><td>replace</td><td>Replace string</td></tr><tr><td>leftPad</td><td>left complement</td></tr><tr><td>rightPad</td><td>right complement</td></tr><tr><td>join</td><td>string multi-column join combination returns the common phrase group comma combination</td></tr><tr><td>length</td><td>String length</td></tr><tr><td>compareTo</td><td>Compare String Size</td></tr></tbody></table><h4 id="time-function" tabindex="-1"><a class="header-anchor" href="#time-function"><span>Time function</span></a></h4><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>format</td><td>Java formatting is supported for date formatting</td></tr><tr><td>plus</td><td>Increase Time</td></tr><tr><td>plusMonths</td><td>Add months</td></tr><tr><td>plusYears</td><td>Increase Year</td></tr><tr><td>dayOfYear</td><td>The current number of days represents the number of days in a 1 year</td></tr><tr><td>dayOfWeek</td><td>The current number of days in the 1 year represents the day 0-6 Sunday is 0</td></tr><tr><td>year</td><td>Returns the year</td></tr><tr><td>month</td><td>Returns months 1-12</td></tr><tr><td>day</td><td>Returns the number of days 1-31 in the month</td></tr><tr><td>hour</td><td>Returns hours 0-23</td></tr><tr><td>minute</td><td>Returns minutes 0-59</td></tr><tr><td>second</td><td>Returns the number of seconds 0-59</td></tr><tr><td>duration</td><td>Returns the interval of days/hours/.... a.duration (B, DateTimeDurationEnum.Days) how many days is a greater than B, if a is less than B, returns the negative number of days between two dates a and B</td></tr><tr><td>now</td><td>Current time</td></tr><tr><td>utcNow</td><td>Current UTC time</td></tr></tbody></table><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//函数嵌套处理</span></span>
<span class="line"><span>List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)</span></span>
<span class="line"><span>    .where(user -&gt; {</span></span>
<span class="line"><span>      user.createTime()</span></span>
<span class="line"><span>        .nullOrDefault(LocalDateTime.now())</span></span>
<span class="line"><span>        .plus(1, TimeUnit.DAYS)</span></span>
<span class="line"><span>        .format(&quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span>
<span class="line"><span>        .eq(&quot;2024-01-01 00:00:00&quot;);</span></span>
<span class="line"><span>    }).toList();</span></span>
<span class="line"><span>//SQL:FROM user  WHERE DATE_FORMAT(date_add(IFNULL(\`create_time\`,?), interval (?) microsecond),&#39;%Y-%m-%d %H:%i:%s&#39;) = ?</span></span>
<span class="line"><span>//参数:2024-05-20T14:40:08.152(LocalDateTime),86400000000(Long),2024-01-01 00:00:00(String)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are interested in this framework, you are welcome to try and your comments and suggestions. The framework has too many functions that cannot be displayed here. More functions can be consulted in github warehouse or gitee warehouse.</p><h3 id="finally" tabindex="-1"><a class="header-anchor" href="#finally"><span>Finally</span></a></h3><p>easy-qeury &#39;is very pleased to join dromara organization, hoping to thrive under the organization and contribute 1 of its own weak strength to java open source.</p><p>Finally, please attach the project address and welcome everyone to join star to submit pr issue.</p><p>github repository https://github.com/dromara/easy-query</p><p>gitee warehouse https://gitee.com/dromara/easy-query</p>`,58)]))}const d=e(t,[["render",l],["__file","EasyQuery.html.vue"]]),o=JSON.parse('{"path":"/news/EasyQuery.html","title":"Welcome Modern Java ORM Easy-Query to the Dromara Community","lang":"en-US","frontmatter":{"title":"Welcome Modern Java ORM Easy-Query to the Dromara Community","author":"xuejm","date":"2024-05-27T00:00:00.000Z","cover":"/assets/img/news/EasyQuery-0.png","head":[["meta",{"name":"News"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://vuepress-theme-hope-docs-demo.netlify.app/zh/news/EasyQuery.html"}],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/news/EasyQuery.html"}],["meta",{"property":"og:title","content":"Welcome Modern Java ORM Easy-Query to the Dromara Community"}],["meta",{"property":"og:description","content":"Author introduction Name: xuejm dromara member of open source organization, dromara/easy-query author java/.net related development experience of more than 10 years, rookie 1 I ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/EasyQuery-0.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-19T11:30:23.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/EasyQuery-0.png"}],["meta",{"name":"twitter:image:alt","content":"Welcome Modern Java ORM Easy-Query to the Dromara Community"}],["meta",{"property":"article:author","content":"xuejm"}],["meta",{"property":"article:published_time","content":"2024-05-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-19T11:30:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Welcome Modern Java ORM Easy-Query to the Dromara Community\\",\\"image\\":[\\"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/EasyQuery-0.png\\"],\\"datePublished\\":\\"2024-05-27T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-19T11:30:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuejm\\"}]}"]],"description":"Author introduction Name: xuejm dromara member of open source organization, dromara/easy-query author java/.net related development experience of more than 10 years, rookie 1 I ..."},"headers":[{"level":2,"title":"Author introduction","slug":"author-introduction","link":"#author-introduction","children":[]},{"level":2,"title":"Preface","slug":"preface","link":"#preface","children":[]},{"level":2,"title":"EasyQuery Introduction","slug":"easyquery-introduction","link":"#easyquery-introduction","children":[{"level":3,"title":"Background","slug":"background","link":"#background","children":[]}]},{"level":2,"title":"Actual business case","slug":"actual-business-case","link":"#actual-business-case","children":[{"level":3,"title":"User Filtering","slug":"user-filtering","link":"#user-filtering","children":[]},{"level":3,"title":"Structured DTO","slug":"structured-dto","link":"#structured-dto","children":[]},{"level":3,"title":"Finally","slug":"finally","link":"#finally","children":[]}]}],"git":{"createdTime":1723712940000,"updatedTime":1724067023000,"contributors":[{"name":"itanxyu","username":"itanxyu","email":"itanxy@126.com","commits":3,"url":"https://github.com/itanxyu"}]},"readingTime":{"minutes":7.23,"words":2170},"filePathRelative":"news/EasyQuery.md","localizedDate":"May 27, 2024","autoDesc":true,"excerpt":"<h2>Author introduction</h2>\\n<ul>\\n<li>\\n<p>Name: xuejm</p>\\n</li>\\n<li>\\n<p>dromara member of open source organization, dromara/easy-query author</p>\\n</li>\\n<li>\\n<p>java/.net related development experience of more than 10 years, rookie 1</p>\\n</li>\\n<li>\\n<p>I like open source technology and am willing to specialize in research and sharing. I have many open source projects O(∩_∩)O ha ha ~</p>\\n</li>\\n<li>\\n<p>Personal space: https://github.com/xuejmnet和 https://gitee.com/xuejm</p>\\n</li>\\n</ul>"}');export{d as comp,o as data};
