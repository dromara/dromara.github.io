import{A as Y,d as le,B as te,C as N,D as se,P as he,E as ne,l as ae,n as A,p as H,G as oe,w as K,H as t,I as re,R as Q,J as ue,K as ie,L as me,M as ce,O as we,Q as _e,m as ze,T as ge,U as ye,V as ve,W as de,X as M,Y as B,Z as pe,$ as x,a0 as be}from"./app-BmgeuuSW.js";const fe=["/","/about/","/activity/FlinkForwardAsia-2024.html","/activity/","/activity/dromara-activites-introduce.html","/activity/dromara-cloud-native-meet-02.html","/activity/dromara-cloud-native-meet.html","/blog/ApacheShenYu-2.6.1.html","/blog/DyJava.html","/blog/Fast%20Request-0.html","/blog/FastRequest.html","/blog/HertzBeat-v1.6.0%20.html","/blog/LiteFlow-2.12.0.html","/blog/LiteFlow-v2.12.1.html","/blog/","/blog/RuoYi-Vue-Plus-5.2.0.html","/blog/Sa-Token-v1.38.0.html","/blog/Sa-Token.html","/blog/hmily_current.html","/blog/hmily_introduction.html","/blog/northstar-7.0.html","/blog/soul_resource_learning_07_admin.html","/blog/soul_source_learning_01.html","/blog/soul_source_learning_02_divide_plugin.html","/blog/soul_source_learning_02_divide_plugin_source.html","/blog/soul_source_learning_02_http_client_register.html","/blog/soul_source_learning_05_plugin.html","/blog/soul_source_learning_08_httplongpolling_01.html","/blog/soul_source_learning_09_httplongpolling_02.html","/blog/soul_source_learning_10_websocket.html","/blog/soul_source_learning_11_SPI.html","/blog/soul_source_learning_12_sign.html","/blog/soul_source_learning_13_zookeeper_01.html","/blog/soul_source_learning_13_zookeeper_02.html","/blog/soul_source_learning_14_nacos.html","/blog/soul_source_learning_15_plugin_chain.html","/blog/soul_source_learning_16_divide_sxj.html","/blog/soul_source_learning_17_http.html","/blog/soul_source_learning_18_ratelimiter.html","/blog/soul_source_learning_19_redirect.html","/blog/soul_source_learning_20_sentinel.html","/blog/soul_source_learning_21_resilience4j.html","/blog/soul_source_learning_22_apache_dubbo.html","/donation/","/members/","/news/DanteCloud.html","/news/DaxPay-2.0.6.html","/news/DomainAdmin.html","/news/DromaraDaxPay.html","/news/Easy-Es2.0.html","/news/EasyAI-1.1.8.html","/news/EasyQuery.html","/news/FastRequest-2024.1.7.html","/news/FreeNginx.html","/news/HertzBeat-donate.html","/news/MaxKey-4.1.1.html","/news/MayflyGo-1.7.4.html","/news/MilvusPlus.html","/news/MybatisPlusExt.html","/news/NewCar.html","/news/Newcar-2.0.0.html","/news/","/news/Sa-Token-1.39.0.html","/news/SkyEye.html","/news/Skyeye-3.14.3.html","/news/Skyeye-3.14.4.html","/news/Skyeye-3.14.5.html","/news/Skyeye-3.14.6.html","/news/TestHub-1.0.4.html","/news/WarmFlow-1.2.6.html","/news/easyAI-1.1.7.html","/news/easyAI-1.1.9.html","/news/easyAI-1.2.5.html","/news/fastRequest-2023.2.1.html","/news/hmily-2.0.2.html","/news/hmily-2.1.1.html","/news/hmily-restart.html","/news/hutool-5.8.0.html","/news/liteflow-2.11.3.html","/news/soul-1.0.4.html","/news/soul-2.1.x.html","/news/soul-2.2.0.html","/news/warm-flow-1.2.0.html","/news/warm-flow-1.2.4.html","/news/warm-flow-v1.2.8.html","/news/warm-flow.html","/news/x-file-storage-2.0.0.html","/news/x-file-storage-2.2.0.html","/news/zyplayer-doc-1.1.6.html","/projects/","/zh/","/zh/about/","/zh/activity/2024-summary.html","/zh/activity/CommunityOverCode-Asia-2023.html","/zh/activity/FlinkForwardAsia-2024.html","/zh/activity/GOTC-2023.html","/zh/activity/HDC.Cloud-2023.html","/zh/activity/","/zh/activity/coscon23.html","/zh/activity/dromara-activites-introduce.html","/zh/activity/dromara-cloud-native-meet-02.html","/zh/activity/dromara-cloud-native-meet.html","/zh/activity/ospp-2023.html","/zh/blog/ApacheShenYu-2.6.1.html","/zh/blog/DTSE-Tech-Talk-29.html","/zh/blog/DyJava.html","/zh/blog/Fast%20Request-0.html","/zh/blog/FastRequest.html","/zh/blog/HertzBeat-intro.html","/zh/blog/HertzBeat-v1.6.0%20.html","/zh/blog/LiteFlow-2.12.0.html","/zh/blog/LiteFlow-concept.html","/zh/blog/LiteFlow-v2.12.1.html","/zh/blog/","/zh/blog/RuoYi-Vue-Plus-5.2.0.html","/zh/blog/Sa-Token-v1.38.0.html","/zh/blog/Sa-Token.html","/zh/blog/hmily_current.html","/zh/blog/hmily_introduction.html","/zh/blog/jdk17-230601.html","/zh/blog/northstar-7.0.html","/zh/blog/soul_resource_learning_07_admin.html","/zh/blog/soul_source_learning_01.html","/zh/blog/soul_source_learning_02_divide_plugin.html","/zh/blog/soul_source_learning_02_divide_plugin_source.html","/zh/blog/soul_source_learning_02_http_client_register.html","/zh/blog/soul_source_learning_05_plugin.html","/zh/blog/soul_source_learning_08_httplongpolling_01.html","/zh/blog/soul_source_learning_09_httplongpolling_02.html","/zh/blog/soul_source_learning_10_websocket.html","/zh/blog/soul_source_learning_11_SPI.html","/zh/blog/soul_source_learning_12_sign.html","/zh/blog/soul_source_learning_13_zookeeper_01.html","/zh/blog/soul_source_learning_13_zookeeper_02.html","/zh/blog/soul_source_learning_14_nacos.html","/zh/blog/soul_source_learning_15_plugin_chain.html","/zh/blog/soul_source_learning_16_divide_sxj.html","/zh/blog/soul_source_learning_17_http.html","/zh/blog/soul_source_learning_18_ratelimiter.html","/zh/blog/soul_source_learning_19_redirect.html","/zh/blog/soul_source_learning_20_sentinel.html","/zh/blog/soul_source_learning_21_resilience4j.html","/zh/blog/soul_source_learning_22_apache_dubbo.html","/zh/donation/","/zh/members/","/zh/news/Akali-0.html","/zh/news/Apache-ShenYu-2.6.0.html","/zh/news/Apache-ShenYu-2.6.1.html","/zh/news/Binlog4j-0.html","/zh/news/CloudEon-1.1.0.html","/zh/news/CloudEon-1.2.0.html","/zh/news/Cubic-1.4.5.html","/zh/news/Dante-Cloud-2.7.11.0.html","/zh/news/Dante-Cloud-3.0.6.4.html","/zh/news/Dante-Cloud-3.1.0.6.html","/zh/news/Dante-Cloud-3.1.1.1.html","/zh/news/Dante-Cloud-3.1.3.0.html","/zh/news/Dante-Cloud-3.2.0.0.html","/zh/news/DanteCloud.html","/zh/news/DaxPay-2.0.6.html","/zh/news/Disjob-0.html","/zh/news/DomainAdmin.html","/zh/news/DromaraDaxPay.html","/zh/news/DynamicTp-1.1.3.html","/zh/news/DynamicTp-1.1.4.html","/zh/news/DynamicTp-1.1.5.html","/zh/news/DynamicTp-1.1.6.html","/zh/news/Easy-Es2.0.html","/zh/news/EasyAI-0.html","/zh/news/EasyAI-1.1.8.html","/zh/news/EasyQuery.html","/zh/news/FastRequest-2024.1.7.html","/zh/news/Forest-1.5.33.html","/zh/news/FreeNginx.html","/zh/news/HertzBeat-1.3.1.html","/zh/news/HertzBeat-1.3.2.html","/zh/news/HertzBeat-1.4.0.html","/zh/news/HertzBeat-1.4.1.html","/zh/news/HertzBeat-1.4.2.html","/zh/news/HertzBeat-1.4.3.html","/zh/news/HertzBeat-1.4.4.html","/zh/news/HertzBeat-1.5.0.html","/zh/news/HertzBeat-donate.html","/zh/news/LiteFlow-2.10.4.html","/zh/news/LiteFlow-2.10.5.html","/zh/news/LiteFlow-2.10.6.html","/zh/news/LiteFlow-2.11.0.html","/zh/news/LiteFlow-2.11.1.html","/zh/news/LiteFlow-2.11.4.html","/zh/news/MaxKey-3.5.17.html","/zh/news/MaxKey-3.5.18.html","/zh/news/MaxKey-3.5.19.html","/zh/news/MaxKey-4.0.0.html","/zh/news/MaxKey-4.0.1.html","/zh/news/MaxKey-4.0.2.html","/zh/news/MaxKey-4.1.1.html","/zh/news/MayflyGo-1.7.4.html","/zh/news/MilvusPlus.html","/zh/news/MybatisPlusExt.html","/zh/news/Neutrino-Proxy-1.9.0.html","/zh/news/Neutrino-Proxy-2.0.0.html","/zh/news/Neutrino-Proxy-2.0.1.html","/zh/news/NewCar.html","/zh/news/Newcar-2.0.0.html","/zh/news/Northstar-6.0.html","/zh/news/Northstar-6.1.html","/zh/news/Northstar-7.0.html","/zh/news/Northstar-7.x.html","/zh/news/","/zh/news/RuoYi-Cloud-Plus-2.1.2.html","/zh/news/RuoYi-Vue-Plus-4.7.0.html","/zh/news/RuoYi-Vue-Plus-5.1.0.html","/zh/news/RuoYi-Vue-Plus-5.1.2.html","/zh/news/Sa-Token-1.35.0.html","/zh/news/Sa-Token-1.39.0.html","/zh/news/SkyEye.html","/zh/news/Skyeye-3.14.3.html","/zh/news/Skyeye-3.14.4.html","/zh/news/Skyeye-3.14.5.html","/zh/news/Skyeye-3.14.6.html","/zh/news/TestHub-0.html","/zh/news/TestHub-1.0.2.html","/zh/news/TestHub-1.0.3.html","/zh/news/TestHub-1.0.4.html","/zh/news/Tianai-Captcha-0.html","/zh/news/WarmFlow-1.2.6.html","/zh/news/dbswitch-0.html","/zh/news/easyAI-1.1.7.html","/zh/news/easyAI-1.1.9.html","/zh/news/easyAI-1.2.5.html","/zh/news/electron-egg-3.1.0.html","/zh/news/electron-egg-3.10.0.html","/zh/news/electron-egg-3.7.0.html","/zh/news/electron-egg-3.9.0.html","/zh/news/fastRequest-2023.1.3.html","/zh/news/fastRequest-2023.1.4.html","/zh/news/fastRequest-2023.1.7.html","/zh/news/fastRequest-2023.1.8.html","/zh/news/fastRequest-2023.1.9.html","/zh/news/fastRequest-2023.2.1.html","/zh/news/fastRequest-2023.2.3.html","/zh/news/fastRequest-2024.1.1.html","/zh/news/hmily-2.0.2.html","/zh/news/hmily-2.1.1.html","/zh/news/hmily-restart.html","/zh/news/hutool-5.8.0.html","/zh/news/liteflow-2.11.3.html","/zh/news/sms4j-2.0.1.html","/zh/news/sms4j-2.0.2.html","/zh/news/sms4j-2.0.html","/zh/news/sms4j-2.1.0.html","/zh/news/sms4j-2.2.0.html","/zh/news/sms4j-3.0.0.html","/zh/news/sms4j-3.1.0.html","/zh/news/soul-1.0.4.html","/zh/news/soul-2.1.x.html","/zh/news/soul-2.2.0.html","/zh/news/warm-flow-1.2.0.html","/zh/news/warm-flow-1.2.4.html","/zh/news/warm-flow-v1.2.8.html","/zh/news/warm-flow.html","/zh/news/wemq.html","/zh/news/x-file-storage-2.0.0.html","/zh/news/x-file-storage-2.1.0.html","/zh/news/x-file-storage-2.2.0.html","/zh/news/yft-design-0.html","/zh/news/zyplayer-doc-1.1.6.html","/zh/projects/","/404.html"],ke="SEARCH_PRO_QUERY_HISTORY",y=Y(ke,[]),He=()=>{const{queryHistoryCount:s}=x,h=s>0;return{enabled:h,queryHistory:y,addQueryHistory:n=>{h&&(y.value=Array.from(new Set([n,...y.value.slice(0,s-1)])))},removeQueryHistory:n=>{y.value=[...y.value.slice(0,n),...y.value.slice(n+1)]}}},P=s=>fe[s.id]+("anchor"in s?`#${s.anchor}`:""),xe="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:I}=x,v=Y(xe,[]),Re=()=>{const s=I>0;return{enabled:s,resultHistory:v,addResultHistory:h=>{if(s){const n={link:P(h),display:h.display};"header"in h&&(n.header=h.header),v.value=[n,...v.value.slice(0,I-1)]}},removeResultHistory:h=>{v.value=[...v.value.slice(0,h),...v.value.slice(h+1)]}}},Se=s=>{const h=ce(),n=N(),R=we(),o=A(0),b=H(()=>o.value>0),_=_e([]);return ze(()=>{const{search:z,terminate:S}=ge(),d=pe(i=>{const p=i.join(" "),{searchFilter:D=w=>w,splitWord:C,suggestionsFilter:E,...g}=h.value;p?(o.value+=1,z(i.join(" "),n.value,g).then(w=>D(w,p,n.value,R.value)).then(w=>{o.value-=1,_.value=w}).catch(w=>{console.warn(w),o.value-=1,o.value||(_.value=[])})):_.value=[]},x.searchDelay-x.suggestDelay);K([s,n],([i])=>d(i),{immediate:!0}),ye(()=>{S()})}),{isSearching:b,results:_}};var Ce=le({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:h}){const n=te(),R=N(),o=se(he),{enabled:b,addQueryHistory:_,queryHistory:z,removeQueryHistory:S}=He(),{enabled:d,resultHistory:i,addResultHistory:p,removeResultHistory:D}=Re(),C=b||d,E=ne(s,"queries"),{results:g,isSearching:w}=Se(E),a=ae({isQuery:!0,index:0}),m=A(0),c=A(0),L=H(()=>C&&(z.value.length>0||i.value.length>0)),F=H(()=>g.value.length>0),q=H(()=>g.value[m.value]||null),O=()=>{const{isQuery:e,index:l}=a;l===0?(a.isQuery=!e,a.index=e?i.value.length-1:z.value.length-1):a.index=l-1},V=()=>{const{isQuery:e,index:l}=a;l===(e?z.value.length-1:i.value.length-1)?(a.isQuery=!e,a.index=0):a.index=l+1},$=()=>{m.value=m.value>0?m.value-1:g.value.length-1,c.value=q.value.contents.length-1},U=()=>{m.value=m.value<g.value.length-1?m.value+1:0,c.value=0},G=()=>{c.value<q.value.contents.length-1?c.value+=1:U()},J=()=>{c.value>0?c.value-=1:$()},T=e=>e.map(l=>be(l)?l:t(l[0],l[1])),W=e=>{if(e.type==="customField"){const l=ve[e.index]||"$content",[r,k=""]=de(l)?l[R.value].split("$content"):l.split("$content");return e.display.map(u=>t("div",T([r,...u,k])))}return e.display.map(l=>t("div",T(l)))},f=()=>{m.value=0,c.value=0,h("updateQuery",""),h("close")},X=()=>b?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},o.value.queryHistory),z.value.map((e,l)=>t("div",{class:["search-pro-result-item",{active:a.isQuery&&a.index===l}],onClick:()=>{h("updateQuery",e)}},[t(M,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:B,onClick:r=>{r.preventDefault(),r.stopPropagation(),S(l)}})]))])):null,Z=()=>d?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},o.value.resultHistory),i.value.map((e,l)=>t(Q,{to:e.link,class:["search-pro-result-item",{active:!a.isQuery&&a.index===l}],onClick:()=>{f()}},()=>[t(M,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(r=>T(r)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:B,onClick:r=>{r.preventDefault(),r.stopPropagation(),D(l)}})]))])):null;return oe("keydown",e=>{if(s.isFocusing){if(F.value){if(e.key==="ArrowUp")J();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const l=q.value.contents[c.value];_(s.queries.join(" ")),p(l),n.push(P(l)),f()}}else if(d){if(e.key==="ArrowUp")O();else if(e.key==="ArrowDown")V();else if(e.key==="Enter"){const{index:l}=a;a.isQuery?(h("updateQuery",z.value[l]),e.preventDefault()):(n.push(i.value[l].link),f())}}}}),K([m,c],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:s.queries.length?!F.value:!L.value}],id:"search-pro-results"},s.queries.length?w.value?t(re,{hint:o.value.searching}):F.value?t("ul",{class:"search-pro-result-list"},g.value.map(({title:e,contents:l},r)=>{const k=m.value===r;return t("li",{class:["search-pro-result-list-item",{active:k}]},[t("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),l.map((u,ee)=>{const j=k&&c.value===ee;return t(Q,{to:P(u),class:["search-pro-result-item",{active:j,"aria-selected":j}],onClick:()=>{_(s.queries.join(" ")),p(u),f()}},()=>[u.type==="text"?null:t(u.type==="title"?ue:u.type==="heading"?ie:me,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?t("div",{class:"content-header"},u.header):null,t("div",W(u))])])})])})):o.value.emptyResult:C?L.value?[X(),Z()]:o.value.emptyHistory:o.value.emptyResult)}});export{Ce as default};
