import{_ as n,c as a,a as e,o as i}from"./app-Cd8Sn9KY.js";const l="/assets/img/news/x-file-storage-2.1.0-1.svg",p="/assets/img/news/x-file-storage-2.1.0-2.svg",t="/assets/img/news/x-file-storage-2.1.0-3.svg",r={};function d(c,s){return i(),a("div",null,s[0]||(s[0]=[e('<p>åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡</p><p>x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn</p><p><img src="'+l+'" alt=""> <img src="'+p+'" alt=""> <img src="'+t+`" alt=""></p><h1 id="ğŸ“š-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“š-ç®€ä»‹"><span>ğŸ“š ç®€ä»‹</span></a></h1><p>ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸ºäº‘ OBSã€ä¸ƒç‰›äº‘ Kodoã€è…¾è®¯äº‘ COSã€ç™¾åº¦äº‘ BOSã€åˆæ‹äº‘ USSã€MinIOã€ Amazon S3ã€GoogleCloud Storageã€FastDFSã€ Azure Blob Storageã€Cloudflare R2ã€é‡‘å±±äº‘ KS3ã€ç¾å›¢äº‘ MSSã€äº¬ä¸œäº‘ OSSã€å¤©ç¿¼äº‘ OOSã€ç§»åŠ¨ äº‘ EOSã€æ²ƒäº‘ OSSã€ç½‘æ˜“æ•°å¸† NOSã€Ucloud US3ã€é’äº‘ QingStorã€å¹³å®‰äº‘ OBSã€é¦–äº‘ OSSã€IBM COSã€å…¶å®ƒå…¼å®¹ S3 åè®®çš„å­˜å‚¨å¹³å°ã€‚æŸ¥çœ‹ æ‰€æœ‰æ”¯æŒçš„å­˜å‚¨å¹³å°</p><p>ğŸ’¡ é€šè¿‡ WebDAV è¿æ¥åˆ° Alist åï¼Œå¯ä»¥ä½¿ç”¨ç™¾åº¦ç½‘ç›˜ã€å¤©ç¿¼äº‘ç›˜ã€é˜¿é‡Œäº‘ç›˜ã€è¿…é›·ç½‘ç›˜ç­‰å¸¸è§å­˜å‚¨æœåŠ¡ï¼ŒæŸ¥çœ‹ Alist æ”¯æŒçš„å­˜å‚¨å¹³å°</p><p>GitHubï¼šhttps://github.com/dromara/x-file-storage</p><p>Giteeï¼šhttps://gitee.com/dromara/x-file-storage</p><p>æ–‡æ¡£ 1ï¼šhttps://x-file-storage.dromara.org</p><p>æ–‡æ¡£ 2ï¼šhttps://x-file-storage.xuyanwu.cn</p><p>æ–‡æ¡£ 3ï¼šhttps://spring-file-storage.xuyanwu.cn</p><hr><h1 id="ğŸ“œ-æ›´æ–°å†…å®¹" tabindex="-1"><a class="header-anchor" href="#ğŸ“œ-æ›´æ–°å†…å®¹"><span>ğŸ“œ æ›´æ–°å†…å®¹</span></a></h1><ul><li>æ–°å¢ FastDFS å­˜å‚¨å¹³å°</li><li>æ–°å¢ Azure Blob Storage å­˜å‚¨å¹³å°</li><li>æ–°å¢å¤åˆ¶æ–‡ä»¶ï¼Œæ”¯æŒè·¨å­˜å‚¨å¹³å°å¤åˆ¶</li><li>æ–°å¢ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰æ–‡ä»¶ï¼Œæ”¯æŒè·¨å­˜å‚¨å¹³å°ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰</li><li>æ–°å¢å¤§æ–‡ä»¶æ‰‹åŠ¨åˆ†ç‰‡ä¸Šä¼ ï¼ˆæ–­ç‚¹ç»­ä¼ ï¼‰ï¼Œ1.0.0 ç‰ˆæœ¬æ—©å·²æ”¯æŒå¤§æ–‡ä»¶è‡ªåŠ¨åˆ†ç‰‡ä¸Šä¼ </li><li>æ–°å¢è®¡ç®—å“ˆå¸ŒåŠŸèƒ½ï¼Œä¸Šä¼ ä¸‹è½½æ—¶å¯ä»¥è¾¹å¤„ç†è¾¹è®¡ç®—</li><li>ä¸Šä¼ æ— éœ€å¼ºåˆ¶è·å–æ–‡ä»¶å¤§å°ï¼Œä¸Šä¼ æœªçŸ¥å¤§å°çš„æ–‡ä»¶æ›´å‹å¥½</li><li>ä¼˜åŒ– SpringBoot è‡ªåŠ¨é…ç½®å…¼å®¹é SpringWeb ç¯å¢ƒ</li><li>ä¼˜åŒ– FileKey è·å–æ–¹å¼ï¼Œé¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸</li><li>ä¼˜åŒ–ä¸Šä¼ ä»£ç ç»“æ„</li><li>ä¼˜åŒ–å¼‚å¸¸å¤„ç†</li><li>ä¼˜åŒ–è¿›åº¦ç›‘å¬å™¨</li><li>ä¿®å¤ä¸Šä¼ æ—¶è®¾ç½®ç¼©ç•¥å›¾ä¿å­˜åç§°é”™è¯¯çš„ BUG</li><li>å…¼å®¹ä½ç‰ˆæœ¬ SpringBoot(2.0.x)çš„ä¾èµ–æ³¨å…¥</li><li>ä¿®å¤åä¸ºäº‘ OBS ä¸Šä¼ è¿›åº¦é—®é¢˜</li><li>ä¿®å¤ MultipartFile å­˜å‚¨åˆ°æœ¬åœ°æ—¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹è¾“å…¥æµæœªå…³é—­çš„é—®é¢˜</li><li>ä¿®å¤ åˆæ‹äº‘ USS ä¸Šä¼ ç¼©ç•¥å›¾æ–‡ä»¶æ—¶ Response æœªå…³é—­çš„é—®é¢˜</li></ul><hr><h1 id="ğŸ“¦-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-ä½¿ç”¨"><span>ğŸ“¦ ä½¿ç”¨</span></a></h1><p>ç‚¹å‡» å¿«é€Ÿå…¥é—¨ æŸ¥çœ‹å…¨éƒ¨å­˜å‚¨å¹³å°çš„ä½¿ç”¨æ–¹æ³•ï¼</p><h4 id="ğŸ”§-é…ç½®" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-é…ç½®"><span>ğŸ”§ é…ç½®</span></a></h4><p>è¿™é‡Œä»¥é˜¿é‡Œäº‘ OSS ä¸ºä¾‹ï¼Œ<code>pom.xml</code> å¼•å…¥æœ¬é¡¹ç›®ï¼Œè¿™é‡Œé»˜è®¤æ˜¯ <code>SpringBoot</code> ç¯å¢ƒï¼Œå…¶å®ƒç¯å¢ƒå‚è€ƒ è„±ç¦» SpringBoot å•ç‹¬ä½¿ç”¨</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;!-- å¼•å…¥æœ¬é¡¹ç›® --&gt;</span></span>
<span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>    &lt;groupId&gt;org.dromara.x-file-storage&lt;/groupId&gt;</span></span>
<span class="line"><span>    &lt;artifactId&gt;x-file-storage-spring&lt;/artifactId&gt;</span></span>
<span class="line"><span>    &lt;version&gt;2.1.0&lt;/version&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span>
<span class="line"><span>&lt;!-- å¼•å…¥ é˜¿é‡Œäº‘ OSS SDKï¼Œå¦‚æœä½¿ç”¨å…¶å®ƒå­˜å‚¨å¹³å°ï¼Œå°±å¼•å…¥å¯¹åº”çš„ SDK  --&gt;</span></span>
<span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>    &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;</span></span>
<span class="line"><span>    &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;</span></span>
<span class="line"><span>    &lt;version&gt;3.16.1&lt;/version&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>application.yml</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹åŸºç¡€é…ç½®</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>dromara:</span></span>
<span class="line"><span>  x-file-storage: #æ–‡ä»¶å­˜å‚¨é…ç½®</span></span>
<span class="line"><span>    default-platform: aliyun-oss-1 #é»˜è®¤ä½¿ç”¨çš„å­˜å‚¨å¹³å°</span></span>
<span class="line"><span>    aliyun-oss:</span></span>
<span class="line"><span>      - platform: aliyun-oss-1 # å­˜å‚¨å¹³å°æ ‡è¯†</span></span>
<span class="line"><span>        enable-storage: true  # å¯ç”¨å­˜å‚¨</span></span>
<span class="line"><span>        access-key: ??</span></span>
<span class="line"><span>        secret-key: ??</span></span>
<span class="line"><span>        end-point: ??</span></span>
<span class="line"><span>        bucket-name: ??</span></span>
<span class="line"><span>        domain: ?? # è®¿é—®åŸŸåï¼Œæ³¨æ„â€œ/â€ç»“å°¾ï¼Œä¾‹å¦‚ï¼šhttps://abc.oss-cn-shanghai.aliyuncs.com/</span></span>
<span class="line"><span>        base-path: test/ # åŸºç¡€è·¯å¾„</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ğŸ”¨-ç¼–ç " tabindex="-1"><a class="header-anchor" href="#ğŸ”¨-ç¼–ç "><span>ğŸ”¨ ç¼–ç </span></a></h4><p>åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š<code>@EnableFileStorage</code>æ³¨è§£</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@EnableFileStorage</span></span>
<span class="line"><span>@SpringBootApplication</span></span>
<span class="line"><span>public class SpringFileStorageTestApplication {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void main(String[] args) {</span></span>
<span class="line"><span>        SpringApplication.run(SpringFileStorageTestApplication.class,args);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="âœ¨-å¼€å§‹ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#âœ¨-å¼€å§‹ä¸Šä¼ "><span>âœ¨ å¼€å§‹ä¸Šä¼ </span></a></h4><p>æ”¯æŒ Fileã€MultipartFileã€byte[]ã€InputStreamã€URLã€URIã€Stringã€HttpServletRequestï¼Œå¤§æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ†ç‰‡ä¸Šä¼ ã€‚å¦‚æœæƒ³æ”¯æŒæ›´å¤šæ–¹å¼ï¼Œè¯·é˜…è¯» æ–‡ä»¶é€‚é…å™¨ ç« èŠ‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@RestController</span></span>
<span class="line"><span>public class FileDetailController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private FileStorageService fileStorageService;//æ³¨å…¥å®åˆ—</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¸Šä¼ æ–‡ä»¶</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @PostMapping(&quot;/upload&quot;)</span></span>
<span class="line"><span>    public FileInfo upload(MultipartFile file) {</span></span>
<span class="line"><span>        //åªéœ€è¦è¿™ä¸€è¡Œä»£ç å³å¯ä¸Šä¼ æˆåŠŸ</span></span>
<span class="line"><span>        return fileStorageService.of(file).upload();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¸Šä¼ æ–‡ä»¶ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ url</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @PostMapping(&quot;/upload2&quot;)</span></span>
<span class="line"><span>    public String upload2(MultipartFile file) {</span></span>
<span class="line"><span>        FileInfo fileInfo = fileStorageService.of(file)</span></span>
<span class="line"><span>                .setPath(&quot;upload/&quot;) //ä¿å­˜åˆ°ç›¸å¯¹è·¯å¾„ä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>                .setObjectId(&quot;0&quot;)   //å…³è”å¯¹è±¡idï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>                .setObjectType(&quot;0&quot;) //å…³è”å¯¹è±¡ç±»å‹ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>                .putAttr(&quot;role&quot;,&quot;admin&quot;) //ä¿å­˜ä¸€äº›å±æ€§ï¼Œå¯ä»¥åœ¨åˆ‡é¢ã€ä¿å­˜ä¸Šä¼ è®°å½•ã€è‡ªå®šä¹‰å­˜å‚¨å¹³å°ç­‰åœ°æ–¹è·å–ä½¿ç”¨ï¼Œä¸éœ€è¦å¯ä»¥ä¸å†™</span></span>
<span class="line"><span>                .upload();  //å°†æ–‡ä»¶ä¸Šä¼ åˆ°å¯¹åº”åœ°æ–¹</span></span>
<span class="line"><span>        return fileInfo == null ? &quot;ä¸Šä¼ å¤±è´¥ï¼&quot; : fileInfo.getUrl();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¸Šä¼ å›¾ç‰‡ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ä¿¡æ¯</span></span>
<span class="line"><span>     * å›¾ç‰‡å¤„ç†ä½¿ç”¨çš„æ˜¯ https://github.com/coobird/thumbnailator</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @PostMapping(&quot;/upload-image&quot;)</span></span>
<span class="line"><span>    public FileInfo uploadImage(MultipartFile file) {</span></span>
<span class="line"><span>        return fileStorageService.of(file)</span></span>
<span class="line"><span>                .image(img -&gt; img.size(1000,1000))  //å°†å›¾ç‰‡å¤§å°è°ƒæ•´åˆ° 1000*1000</span></span>
<span class="line"><span>                .thumbnail(th -&gt; th.size(200,200))  //å†ç”Ÿæˆä¸€å¼  200*200 çš„ç¼©ç•¥å›¾</span></span>
<span class="line"><span>                .upload();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¸Šä¼ æ–‡ä»¶åˆ°æŒ‡å®šå­˜å‚¨å¹³å°ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ä¿¡æ¯</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @PostMapping(&quot;/upload-platform&quot;)</span></span>
<span class="line"><span>    public FileInfo uploadPlatform(MultipartFile file) {</span></span>
<span class="line"><span>        return fileStorageService.of(file)</span></span>
<span class="line"><span>                .setPlatform(&quot;aliyun-oss-1&quot;)    //ä½¿ç”¨æŒ‡å®šçš„å­˜å‚¨å¹³å°</span></span>
<span class="line"><span>                .upload();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ç›´æ¥è¯»å– HttpServletRequest ä¸­çš„æ–‡ä»¶è¿›è¡Œä¸Šä¼ ï¼ŒæˆåŠŸè¿”å›æ–‡ä»¶ä¿¡æ¯</span></span>
<span class="line"><span>     * ä½¿ç”¨è¿™ç§æ–¹å¼æœ‰äº›æ³¨æ„äº‹é¡¹ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£ åŸºç¡€åŠŸèƒ½-ä¸Šä¼  ç« èŠ‚</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    @PostMapping(&quot;/upload-request&quot;)</span></span>
<span class="line"><span>    public FileInfo uploadPlatform(HttpServletRequest request) {</span></span>
<span class="line"><span>        return fileStorageService.of(request).upload();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ğŸ¨-å…¶å®ƒæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ğŸ¨-å…¶å®ƒæ“ä½œ"><span>ğŸ¨ å…¶å®ƒæ“ä½œ</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//æ‰‹åŠ¨æ„é€ æ–‡ä»¶ä¿¡æ¯ï¼Œå¯ç”¨äºå…¶å®ƒæ“ä½œ</span></span>
<span class="line"><span>FileInfo fileInfo = new FileInfo()</span></span>
<span class="line"><span>        .setPlatform(&quot;huawei-obs-1&quot;)</span></span>
<span class="line"><span>        .setBasePath(&quot;test/&quot;)</span></span>
<span class="line"><span>        .setPath(&quot;aa/&quot;)</span></span>
<span class="line"><span>        .setFilename(&quot;image.png&quot;)</span></span>
<span class="line"><span>        .setThFilename(&quot;image.png.min.jpg&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span>boolean exists = fileStorageService.exists(fileInfo);</span></span>
<span class="line"><span>//ä¸‹è½½</span></span>
<span class="line"><span>byte[] bytes = fileStorageService.download(fileInfo).bytes();</span></span>
<span class="line"><span>//åˆ é™¤</span></span>
<span class="line"><span>fileStorageService.delete(fileInfo);</span></span>
<span class="line"><span>//å…¶å®ƒæ›´å¤šæ“ä½œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°†æ–‡ä»¶è®°å½•ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œè¿˜å¯ä»¥æ›´æ–¹ä¾¿çš„æ ¹æ® URL è¿›è¡Œæ“ä½œäº†ï¼Œè¯¦æƒ…è¯·é˜…è¯» ä¿å­˜ä¸Šä¼ è®°å½• ç« èŠ‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//ç›´æ¥ä»æ•°æ®åº“ä¸­è·å– FileInfo å¯¹è±¡ï¼Œæ›´åŠ æ–¹ä¾¿æ‰§è¡Œå…¶å®ƒæ“ä½œ</span></span>
<span class="line"><span>FileInfo fileInfo = fileStorageService.getFileInfoByUrl(&quot;https://abc.def.com/test/aa/image.png&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span>boolean exists = fileStorageService.exists(&quot;https://abc.def.com/test/aa/image.png&quot;);</span></span>
<span class="line"><span>//ä¸‹è½½</span></span>
<span class="line"><span>byte[] bytes = fileStorageService.download(&quot;https://abc.def.com/test/aa/image.png&quot;).bytes();</span></span>
<span class="line"><span>//åˆ é™¤</span></span>
<span class="line"><span>fileStorageService.delete(&quot;https://abc.def.com/test/aa/image.png&quot;);</span></span>
<span class="line"><span>//å…¶å®ƒæ›´å¤šæ“ä½œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç‚¹å‡» å¿«é€Ÿå…¥é—¨ https://x-file-storage.xuyanwu.cn/ æŸ¥çœ‹å…¨éƒ¨å­˜å‚¨å¹³å°çš„ä½¿ç”¨æ–¹æ³•ï¼</p><hr>`,34)]))}const u=n(r,[["render",d],["__file","x-file-storage-2.1.0.html.vue"]]),v=JSON.parse('{"path":"/zh/news/x-file-storage-2.1.0.html","title":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.1.0 ç‰ˆæœ¬","lang":"zh-CN","frontmatter":{"title":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.1.0 ç‰ˆæœ¬","author":"x-file-storage","date":"2024-01-22T00:00:00.000Z","cover":"/assets/img/news/X-File-Storage-Cover.svg","head":[["meta",{"name":"æ–°é—»"}],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/zh/news/x-file-storage-2.1.0.html"}],["meta",{"property":"og:title","content":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.1.0 ç‰ˆæœ¬"}],["meta",{"property":"og:description","content":"åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡ x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn ğŸ“š ç®€ä»‹ ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸º..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/X-File-Storage-Cover.svg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-22T15:09:27.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/X-File-Storage-Cover.svg"}],["meta",{"name":"twitter:image:alt","content":"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.1.0 ç‰ˆæœ¬"}],["meta",{"property":"article:author","content":"x-file-storage"}],["meta",{"property":"article:published_time","content":"2024-01-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-22T15:09:27.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ä¸€ç«™å¼æ–‡ä»¶å­˜å‚¨ X File Storage å‘å¸ƒ 2.1.0 ç‰ˆæœ¬\\",\\"image\\":[\\"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.1.0-1.svg\\",\\"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.1.0-2.svg\\",\\"https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/x-file-storage-2.1.0-3.svg\\"],\\"datePublished\\":\\"2024-01-22T00:00:00.000Z\\",\\"dateModified\\":\\"2024-02-22T15:09:27.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"x-file-storage\\"}]}"]],"description":"åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡ x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn ğŸ“š ç®€ä»‹ ä¸€è¡Œä»£ç å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ã€FTPã€SFTPã€WebDAVã€é˜¿é‡Œäº‘ OSSã€åä¸º..."},"headers":[],"git":{"createdTime":1697704331000,"updatedTime":1708614567000,"contributors":[{"name":"Cicici-Shi","username":"Cicici-Shi","email":"1901177100@qq.com","commits":1,"url":"https://github.com/Cicici-Shi"},{"name":"tomsun28","username":"tomsun28","email":"tomsun28@outlook.com","commits":1,"url":"https://github.com/tomsun28"},{"name":"Cici","username":"Cici","email":"1901177100@qq.com","commits":1,"url":"https://github.com/Cici"},{"name":"WGG","username":"WGG","email":"35297205+1171736840@users.noreply.github.com","commits":2,"url":"https://github.com/WGG"}]},"readingTime":{"minutes":4.59,"words":1376},"filePathRelative":"zh/news/x-file-storage-2.1.0.md","localizedDate":"2024å¹´1æœˆ22æ—¥","autoDesc":true,"excerpt":"<p>åŸå X Spring File Storage ç°å·²æèµ è‡³ dromara å¼€æºç»„ç»‡</p>\\n<p>x-file-storage.dromara.org | x-file-storage.xuyanwu.cn | spring-file-storage.xuyanwu.cn</p>\\n<p><img src=\\"/assets/img/news/x-file-storage-2.1.0-1.svg\\" alt=\\"\\"> <img src=\\"/assets/img/news/x-file-storage-2.1.0-2.svg\\" alt=\\"\\"> <img src=\\"/assets/img/news/x-file-storage-2.1.0-3.svg\\" alt=\\"\\"></p>"}');export{u as comp,v as data};
