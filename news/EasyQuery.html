<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta name="News"><link rel="alternate" hreflang="zh-cn" href="https://vuepress-theme-hope-docs-demo.netlify.app/zh/news/EasyQuery.html"><meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/news/EasyQuery.html"><meta property="og:title" content="Welcome Modern Java ORM Easy-Query to the Dromara Community"><meta property="og:description" content="Author introduction Name: xuejm; dromara member of open source organization, dromara/easy-query author; java/.net related development experience of more than 10 years, rookie 1;..."><meta property="og:type" content="article"><meta property="og:image" content="https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/EasyQuery-0.png"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2024-08-19T11:30:23.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Welcome Modern Java ORM Easy-Query to the Dromara Community"><meta property="article:author" content="xuejm"><meta property="article:published_time" content="2024-05-27T00:00:00.000Z"><meta property="article:modified_time" content="2024-08-19T11:30:23.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Welcome Modern Java ORM Easy-Query to the Dromara Community","image":["https://vuepress-theme-hope-docs-demo.netlify.app/assets/img/news/EasyQuery-0.png"],"datePublished":"2024-05-27T00:00:00.000Z","dateModified":"2024-08-19T11:30:23.000Z","author":[{"@type":"Person","name":"xuejm"}]}</script><meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate"><meta name="description" content="Non-profit organization where open-source enthusiasts gather."><script src="https://cdn.wwads.cn/js/makemoney.js" async></script><title>Welcome Modern Java ORM Easy-Query to the Dromara Community</title>
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-92a702ad.css" as="style"><link rel="stylesheet" href="/assets/style-92a702ad.css">
    <link rel="modulepreload" href="/assets/app-91619a7a.js"><link rel="modulepreload" href="/assets/EasyQuery.html-9d456202.js"><link rel="modulepreload" href="/assets/EasyQuery.html-1a9cdb04.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt><!----><!----></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Projects" class="vp-link nav-link nav-link" href="/projects/"><!---->Projects<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Members" class="vp-link nav-link nav-link" href="/members/"><!---->Members<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="News" class="vp-link nav-link active nav-link active" href="/news/"><!---->News<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Blog" class="vp-link nav-link nav-link" href="/blog/"><!---->Blog<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Activity" class="vp-link nav-link nav-link" href="/activity/"><!---->Activity<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Donation" class="vp-link nav-link nav-link" href="/donation/"><!---->Donation<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="About" class="vp-link nav-link nav-link" href="/about/"><!---->About<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link active nav-link active" href="/news/EasyQuery.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="简体中文" class="vp-link nav-link nav-link" href="/zh/news/EasyQuery.html"><!---->简体中文<!----></a></li></ul></button></div></div><a class="vp-repo-link" href="https://gitee.com/dromara" target="_blank" rel="noopener noreferrer" aria-label="Gitee"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1695538305440" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="1444" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z" fill="#C71D23" p-id="1445"></path></svg></a><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/dromara" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!--[--><button type="button" class="search-pro-button" role="search" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><img class="page-cover" src="/assets/img/news/EasyQuery-0.png" alt="Welcome Modern Java ORM Easy-Query to the Dromara Community" no-view><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Welcome Modern Java ORM Easy-Query to the Dromara Community</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">xuejm</span></span><span property="author" content="xuejm"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-05-27T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 7 min</span><meta property="timeRequired" content="PT7M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#author-introduction">Author introduction</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#preface">Preface</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#easyquery-introduction">EasyQuery Introduction</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#background">Background</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#actual-business-case">Actual business case</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#user-filtering">User Filtering</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#structured-dto">Structured DTO</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#finally">Finally</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="author-introduction" tabindex="-1"><a class="header-anchor" href="#author-introduction" aria-hidden="true">#</a> Author introduction</h2><ul><li><p>Name: xuejm</p></li><li><p>dromara member of open source organization, dromara/easy-query author</p></li><li><p>java/.net related development experience of more than 10 years, rookie 1</p></li><li><p>I like open source technology and am willing to specialize in research and sharing. I have many open source projects O(∩_∩)O ha ha ~</p></li><li><p>Personal space: https://github.com/xuejmnet和 https://gitee.com/xuejm</p></li></ul><h2 id="preface" tabindex="-1"><a class="header-anchor" href="#preface" aria-hidden="true">#</a> Preface</h2><p>ORM is also called object relational mapping. 1 a good ORM not only supports OM, but more importantly, it makes reasonable use&#39; R&#39; and&#39; easy-query&#39; is 1 modern ORM that supports object relations and SQL expressions.</p><h2 id="easyquery-introduction" tabindex="-1"><a class="header-anchor" href="#easyquery-introduction" aria-hidden="true">#</a> EasyQuery Introduction</h2><p>EasyQuery is the 1 modern ORM under Java. It has strong type, lightweight and high performance characteristics. It is dedicated to solving jdbc queries, supporting object model relational filtering, implicit queries and pure SQL expression queries.</p><p>The framework supports java8 and above versions without dependencies. It supports a series of functions such as sub-database and sub-table, field encryption, cascade filtering, logical deletion, multi-tenant, dynamic table name, entity-free CRUD, calculation attribute, optimistic lock, batch processing, data tracking difference update, etc. It also provides users with great expansion and dialect custom function expansion.</p><p>! <a href="/assets/img/news/EasyQuery-0.png"></a></p><h3 id="background" tabindex="-1"><a class="header-anchor" href="#background" aria-hidden="true">#</a> Background</h3><p>**Do you have the following pain points in using the existing orm? * *</p><blockquote><p>1.orm usage is not easy to maintain, ide can not intelligent prompt</p><blockquote></blockquote><p>2.orm does not support join or multi-table join function is weak and cannot meet the situation of group join subquery or from subquery, etc.</p><blockquote></blockquote><p>3.orm model cascade filtering object relationship is too weak, only supports one-to-many one-to-one pull, does not support filtering</p><blockquote></blockquote><ol start="4"><li>There is no unified function to support mapping translation to all databases</li></ol><blockquote></blockquote><p>5.orm function is weak to support the business needs to add various external components to meet the business</p><blockquote></blockquote><p>6.orm cannot be perfectly integrated with the existing pojo system</p><blockquote></blockquote><ol start="7"><li>do not support sub-database sub-table need to introduce additional sharding to support</li></ol></blockquote><p>If you have the above pain points, then &#39;easy-query&#39; can help you.</p><p>**What can easy-query bring to developers? * *</p><blockquote><ol><li>simple, easy-to-use and efficient api, convenience and maintainability brought by streaming writing, and rejection of magic value</li></ol><blockquote></blockquote><ol start="2"><li>strong type can only prompt that even if you are a new beginner, Xiao Bai can easily write the desired code under the prompt of idea.</li></ol><blockquote></blockquote><ol start="3"><li>complex multi-table join, subquery, exists no longer need to worry about the need to introduce additional components in the face of various complex business scenarios</li></ol><blockquote></blockquote><ol start="4"><li>model relation query embodies ORM &#39;r&#39; incisively and vividly. it is not only a simple query result but also a perfect object model screening. just like stream query database, it can assert data related to me by methods such as&#39; any&#39;,&#39; none&#39;, etc.</li></ol><blockquote></blockquote><ol start="5"><li>structured DTO can be pulled at will. after the user creates each model relationship, the object of any structure can be quickly pulled and converted into json. there is no need to worry about the acquisition of one-to -1., many-to-many 1. and many-to-many under paging.</li></ol><blockquote></blockquote><ol start="6"><li>perfect elimination of performance problems caused by n 1</li></ol><blockquote></blockquote><ol start="7"><li>all functions are completely free and permanently open source, and the author writes his own idea plug-in to help everyone improve efficiency. happy code</li></ol></blockquote><h2 id="actual-business-case" tabindex="-1"><a class="header-anchor" href="#actual-business-case" aria-hidden="true">#</a> Actual business case</h2><p>The user architecture of the system is generally user roles (many-to-many), user enterprises are many-to -1, and role menus are many-to-many.</p><h3 id="user-filtering" tabindex="-1"><a class="header-anchor" href="#user-filtering" aria-hidden="true">#</a> User Filtering</h3><h4 id="simple-filter" tabindex="-1"><a class="header-anchor" href="#simple-filter" aria-hidden="true">#</a> Simple Filter</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//筛选用户名称包含小明的
List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
    .where(user-&gt;user.name().like(&quot;小明&quot;))
    .toList()
  
//筛选用户名称包含小明的
List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
   // ifnull(name,&#39;小王&#39;) like &#39;小明&#39;
    .where(user-&gt;user.name().nullOrDefault(&quot;小王&quot;).like(&quot;小明&quot;))
    .toList()
  
//筛选用户名称包含小明并且年龄小于18岁的
List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
    .where(user-&gt;{
         //name like ? and age &lt; ?
            user.name().like(&quot;小明&quot;);
            user.age().lt(18)
    })
    .toList()
  
//返回分页结果
EasyPageResult&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
    .where(user-&gt;{
         //name like ? and age &lt; ?
            user.name().like(&quot;小明&quot;);
            user.age().lt(18)
    })
   .orderBy(user-&gt;user.createTime().desc())//按用户创建时间倒序
    .toPageResult(1,20)
  

//筛选用户名称包含小明或者年龄小于18岁的
List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
    .where(user-&gt;{
       user.or(()-&gt;{
           //name like ? or age &lt; ?
            user.name().like(&quot;小明&quot;);
            user.age().lt(18)
        })
    })
    .toList()

//筛选用户名称包含小明或者年龄小于18岁的,只返回用户id和name
List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
    .where(user-&gt;{
       user.or(()-&gt;{
           //name like ? or age &lt; ?
            user.name().like(&quot;小明&quot;);
            user.age().lt(18)
        })
    })
   //仅返回id和name
   .select(user-&gt; user.FETCHER.id().name().fetchProxy())
    .toList()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="implicit-filtering" tabindex="-1"><a class="header-anchor" href="#implicit-filtering" aria-hidden="true">#</a> Implicit Filtering</h4><h5 id="a-pair-of-1-implicitly-join" tabindex="-1"><a class="header-anchor" href="#a-pair-of-1-implicitly-join" aria-hidden="true">#</a> A pair of 1 implicitly join</h5><blockquote><p>because users and enterprises have multiple pairs of 1, when filtering users, object relationships can be used to filter on the condition of enterprises to automatically join users.</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//筛选用户名称包含小明并且在JAVA企业上班的
List&lt;SysUser&gt; list = easyEntityQuery.queryable(SysUser.class)
    .where(user -&gt; {
        user.name().like(&quot;小明&quot;);
        user.company().name().like(&quot;JAVA企业&quot;);
    }).toList();
//from user left join company on ... where user.name like ? and company.name like ?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="one-to-many-implicit-subquery" tabindex="-1"><a class="header-anchor" href="#one-to-many-implicit-subquery" aria-hidden="true">#</a> One-to-many implicit subquery</h5><blockquote><p>When we create a good enterprise relationship in the user object, we can use the enterprise as a condition when filtering users. On the contrary, when we create a good relationship between the enterprise and the user in the enterprise model, we can also use the user as a condition to help us quickly filter.</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//筛选企业,筛选条件为企业下的员工存在名字是小明的
List&lt;Company&gt; companies = easyEntityQuery.queryable(Company.class)
    .where(com -&gt; {
      com.users().any(u -&gt; {
        u.name().like(&quot;小明&quot;);
      });
    }).toList();
//from company where exists( from user where .... and user.name like ?)


//筛选用户条件为用户包含/admin的菜单路径
List&lt;SysUser&gt; userWithMenuContainsAdminPath = easyEntityQuery.queryable(SysUser.class)
    .where(user -&gt; {
      //筛选条件为用户下的角色,因为角色不需要过滤所以直接展开判断菜单
      //菜单里面存在任意一个路径是&#39;/admin&#39;的即可
      user.roles().flatElement().menus().any(menu -&gt; menu.route().like(&quot;/admin&quot;));
    }).toList();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="multi-table-explicit-join" tabindex="-1"><a class="header-anchor" href="#multi-table-explicit-join" aria-hidden="true">#</a> Multi-table explicit join</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
//查询用户join企业表条件是企业的名称包含JAVA企业这几个字
List&lt;Company&gt; companies = easyEntityQuery.queryable(SysUser.class)
    .leftJoin(Company.class, (user, com) -&gt; user.companyId().eq(com.id()))
    .where((user, com) -&gt; com.name().like(&quot;JAVA企业&quot;))
    .select((user, com) -&gt; com).toList();
//select company.* from user left join company on user.company_id = company.id where company.name like ?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="get-user-owned-menus-directly" tabindex="-1"><a class="header-anchor" href="#get-user-owned-menus-directly" aria-hidden="true">#</a> Get user-owned menus directly</h5><blockquote><p>there is no direct relationship between users and menus. the middle and role tables are many-to-many tables. there are also two tables user_role and role_menu tables in the middle.</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//查询小明用户拥有的菜单id集合
List&lt;String&gt; menuIds = easyEntityQuery.queryable(SysUser.class)
    .where(user -&gt; user.name().eq(&quot;小明&quot;))
    .toList(user -&gt; user.roles().flatElement().menus().flatElement().id());

//查询小明用户拥有的菜单集合
List&lt;SysMenu&gt; menus = easyEntityQuery.queryable(SysUser.class)
    .where(user -&gt; user.name().eq(&quot;小明&quot;))
    .toList(user -&gt; user.roles().flatElement().menus().flatElement());
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="return-user-structure-with-role" tabindex="-1"><a class="header-anchor" href="#return-user-structure-with-role" aria-hidden="true">#</a> Return User Structure with Role</h5><blockquote><p>Return Results</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{user:{id:xxx,roles:[{...}]}}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//返回小于18岁的用户并且附带角色
List&lt;SysUser&gt; userAndRoles = easyEntityQuery.queryable(SysUser.class)
    .includes(user -&gt; user.roles())
    .where(user -&gt; user.age().lt(18))
    .toList();

//返回用户和用户拥有的角色分页返回一对多
EasyPageResult&lt;SysUser&gt; userAndRolePage = easyEntityQuery.queryable(SysUser.class)
    .includes(user -&gt; user.roles())
    .where(user -&gt; user.age().lt(18))
    .toPageResult(1, 20);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="implicit-query-to-get-anonymous-results" tabindex="-1"><a class="header-anchor" href="#implicit-query-to-get-anonymous-results" aria-hidden="true">#</a> Implicit query to get anonymous results</h5><blockquote><p>sometimes we need to obtain the intermediate results above to facilitate java internal calculation. most orm only supports returning map objects at this time, which will lead to string all over and specific types will be lost, which is very inconvenient to use.</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
//查询返回用户id,用户名称和用户所在企业名称无需定义中间对象适用临时上下文获取或者group时候的聚合结果
List&lt;Draft3&lt;String, String, String&gt;&gt; userInfo = easyEntityQuery.queryable(SysUser.class)
      .where(user -&gt; {
          user.name().like(&quot;小明&quot;);
          user.company().name().like(&quot;JAVA企业&quot;);
      }).select(user -&gt; Select.DRAFT.of(
            user.id(),
            user.name(),
            user.company().name()
    )).toList();
for (Draft3&lt;String, String, String&gt; userAdnCom : userInfo) {
  String userId = userAdnCom.getValue1();
  String userName = userAdnCom.getValue2();
  String companyName = userAdnCom.getValue3();
}


List&lt;Draft2&lt;String, Integer&gt;&gt; list2 = easyEntityQuery.queryable(SysUser.class)
      .where(user -&gt; {
        user.name().like(&quot;小明&quot;);
        user.company().name().like(&quot;JAVA企业&quot;);
      })
      .groupBy(user -&gt; GroupKeys.TABLE1.of(user.name()))
      .select(group -&gt; Select.DRAFT.of(
          group.key1(),//user.name
          group.sum(group.groupTable().age())//sum(user.age)
      )).toList();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="structured-dto" tabindex="-1"><a class="header-anchor" href="#structured-dto" aria-hidden="true">#</a> Structured DTO</h3><p>Many times we need to return a custom data structure instead of the entire database structure when accessing the response.</p><p>So we use the easy-query plug-in here to quickly build a structured DTO response.</p><ul><li><p>First, we install the latest version of&#39; EasyQueryAssistant&#39; plug-in in the idea plug-in market.</p></li><li><p>The second part is right-CreateStructDTO on the package that needs to create the DTO</p></li><li><p>Step 3 Select the structured data to be returned</p></li></ul><p>! <a href="/assets/img/news/EasyQuery-1.jfif"></a></p><p>! <a href="/assets/img/news/EasyQuery-2.jfif"></a></p><blockquote><p>the following dto will be generated in the end</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
/**
 * this file automatically generated by easy-query struct dto mapping
 * 当前文件是easy-query自动生成的 结构化dto 映射
 * {@link com.easy.query.test.entity.blogtest.SysUser }
 *
 * @author easy-query
 */
@Data
public class UserRoleMenuDTO {
    private String id;
    private String name;
    @Navigate(value = RelationTypeEnum.ManyToMany)
    private List&lt;InternalRoles&gt; roles;
    /**
     * {@link com.easy.query.test.entity.blogtest.SysRole }
     */
    @Data
    public static class InternalRoles {
        private String id;
        private String name;
        @Navigate(value = RelationTypeEnum.ManyToMany)
        private List&lt;InternalMenus&gt; menus;
    }

    /**
     * {@link com.easy.query.test.entity.blogtest.SysMenu }
     */
    @Data
    public static class InternalMenus {
        private String id;
        private String name;
        private String route;
        private String icon;
    }

}
//一句话返回需要的结构DTO
//通过selectAutoInclude即可映射到我们的DTO 可以返回任意对象关系


List&lt;UserRoleMenuDTO&gt; menus = easyEntityQuery.queryable(SysUser.class)
    .where(u -&gt; {
      u.name().like(&quot;小明&quot;);
      u.createTime().rangeClosed(LocalDateTime.now().plusDays(-100),LocalDateTime.now());
    })
    .selectAutoInclude(UserRoleMenuDTO.class)
    .toList();

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>nullOrDefault</td><td>Return parameter value if column is null</td></tr><tr><td>count</td><td>returns long</td></tr><tr><td>intCount</td><td>Statistics returned int</td></tr><tr><td>min</td><td>min</td></tr><tr><td>max</td><td>max</td></tr></tbody></table><h4 id="string-functions" tabindex="-1"><a class="header-anchor" href="#string-functions" aria-hidden="true">#</a> String Functions</h4><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>subString</td><td>Cut string, default start 0</td></tr><tr><td>concat</td><td>Link multiple columns or values</td></tr><tr><td>toLower</td><td>To lowercase</td></tr><tr><td>toUpper</td><td>To uppercase</td></tr><tr><td>trim</td><td>remove spaces before and after</td></tr><tr><td>trimStart</td><td>Remove the leading space</td></tr><tr><td>trimEnd</td><td>Remove trailing spaces</td></tr><tr><td>replace</td><td>Replace string</td></tr><tr><td>leftPad</td><td>left complement</td></tr><tr><td>rightPad</td><td>right complement</td></tr><tr><td>join</td><td>string multi-column join combination returns the common phrase group comma combination</td></tr><tr><td>length</td><td>String length</td></tr><tr><td>compareTo</td><td>Compare String Size</td></tr></tbody></table><h4 id="time-function" tabindex="-1"><a class="header-anchor" href="#time-function" aria-hidden="true">#</a> Time function</h4><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>format</td><td>Java formatting is supported for date formatting</td></tr><tr><td>plus</td><td>Increase Time</td></tr><tr><td>plusMonths</td><td>Add months</td></tr><tr><td>plusYears</td><td>Increase Year</td></tr><tr><td>dayOfYear</td><td>The current number of days represents the number of days in a 1 year</td></tr><tr><td>dayOfWeek</td><td>The current number of days in the 1 year represents the day 0-6 Sunday is 0</td></tr><tr><td>year</td><td>Returns the year</td></tr><tr><td>month</td><td>Returns months 1-12</td></tr><tr><td>day</td><td>Returns the number of days 1-31 in the month</td></tr><tr><td>hour</td><td>Returns hours 0-23</td></tr><tr><td>minute</td><td>Returns minutes 0-59</td></tr><tr><td>second</td><td>Returns the number of seconds 0-59</td></tr><tr><td>duration</td><td>Returns the interval of days/hours/.... a.duration (B, DateTimeDurationEnum.Days) how many days is a greater than B, if a is less than B, returns the negative number of days between two dates a and B</td></tr><tr><td>now</td><td>Current time</td></tr><tr><td>utcNow</td><td>Current UTC time</td></tr></tbody></table><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//函数嵌套处理
List&lt;SysUser&gt; users = easyEntityQuery.queryable(SysUser.class)
    .where(user -&gt; {
      user.createTime()
        .nullOrDefault(LocalDateTime.now())
        .plus(1, TimeUnit.DAYS)
        .format(&quot;yyyy-MM-dd HH:mm:ss&quot;)
        .eq(&quot;2024-01-01 00:00:00&quot;);
    }).toList();
//SQL:FROM user  WHERE DATE_FORMAT(date_add(IFNULL(`create_time`,?), interval (?) microsecond),&#39;%Y-%m-%d %H:%i:%s&#39;) = ?
//参数:2024-05-20T14:40:08.152(LocalDateTime),86400000000(Long),2024-01-01 00:00:00(String)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are interested in this framework, you are welcome to try and your comments and suggestions. The framework has too many functions that cannot be displayed here. More functions can be consulted in github warehouse or gitee warehouse.</p><h3 id="finally" tabindex="-1"><a class="header-anchor" href="#finally" aria-hidden="true">#</a> Finally</h3><p>easy-qeury &#39;is very pleased to join dromara organization, hoping to thrive under the organization and contribute 1 of its own weak strength to java open source.</p><p>Finally, please attach the project address and welcome everyone to join star to submit pr issue.</p><p>github repository https://github.com/dromara/easy-query</p><p>gitee warehouse https://gitee.com/dromara/easy-query</p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: itanxy@126.com">itanxyu</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="page-footer" data-v-f92c5230><!----><div class="copyright" data-v-f92c5230><p data-v-f92c5230> Copyright ©2018-2024 <a href="/" data-v-f92c5230>@dromara. org. All Rights Reserved</a></p></div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-91619a7a.js" defer></script>
  </body>
</html>
