<!doctype html><html><head><title>Ark JAR package · SOFAStack</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="SOFAStack is a Scalable Open Financial Architecture for building cloud native applications"><meta name=generator content="Hugo 0.55.5"><link rel="shortcut icon" href=https://gw.alipayobjects.com/os/q/cms/images/jqu9346l/4ba95631-2489-4885-881f-bc7f8d787d5e_w64_h61.png type=image/png><link href=https://unpkg.com/purecss@1.0.0/build/base-min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/zoom-image.css rel=stylesheet><script src=/js/iconfont.js></script><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>window.SITE_LANGUAGE="en"</script><script src=/js/app.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-142131411-1','auto');ga('send','pageview');}</script></head><body><header class=ss-header><nav class=navbar role=navigation aria-label="main navigation"><div class=navbar-brand><a class=logo-link href=/en/><img class=logo src=/img/logo.png></a><div class=-show-mobile><a id=mobile-menu-icon><svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"/></svg></a><nav id=mobile-menu><div id=js-menu-search-mobile class=navbar-search-mobile><input class=input placeholder=Search><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div><a href=/en/projects/><span>Projects</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/en/guides/><span>Guides</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/en/blog/><span>Blog</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/en/activities/><span>Activity</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/awesome/><span>Awesome SOFA</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/projects/sofa-boot/sofa-ark-ark-jar/><span>中文</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-transfer"/></svg></a></nav></div></div><div class="navbar-menu -hidden-mobile"><div class=navbar-start><a class=navbar-item href=/en/projects/>Projects</a>
<a class=navbar-item href=/en/guides/>Guides</a>
<a class=navbar-item href=/en/blog/>Blog</a>
<a class=navbar-item href=/en/activities/>Activity</a>
<a class=navbar-item href=/awesome/>Awesome SOFA</a></div><div class=navbar-end><div class=navbar-item><div id=js-menu-search class=navbar-search><input class=input placeholder=Search><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div></div><div class=navbar-item><a class=translation href=/projects/sofa-boot/sofa-ark-ark-jar/>中</a></div></div></div></nav></header><div class=ss-layout-container><aside class="ss-layout-aside -left ss-card -soft-hidden"><div id=js-drawer class=ss-toc><div id=js-drawer-handle class=drawer-handle><svg class="icon icon-menu" aria-hidden="true"><use xlink:href="#icon-menu"/></svg><svg class="icon icon-close" aria-hidden="true"><use xlink:href="#icon-close"/></svg></div><div class=drawer-body><div class=header title="SOFABoot is a development framework based on Spring Boot, provides capabilities such as Readiness Check, class isolation, log space isolation and asynchronous initialization of bean.">SOFABoot<div class="ss-toc-list-card -hidden-mobile"><svg class="icon -hidden-mobile" aria-hidden="true"><use xlink:href="#icon-menu1"/></svg><div class=ss-tooltip><div class=toc-list><h4 class=title>Main Projects</h4><ul class=list><li class=item><a href=/en/projects/sofa-boot/overview>SOFABoot</a></li><li class=item><a href=/en/projects/sofa-rpc/overview>SOFARPC</a></li><li class=item><a href=/en/projects/sofa-tracer/overview>SOFATracer</a></li><li class=item><a href=/en/projects/sofa-lookout/overview>SOFALookout</a></li><li class=item><a href=/en/projects/sofa-registry/overview>SOFARegistry</a></li></ul></div><div class=toc-list><h4 class=title>Incubating Projects</h4><ul class=list><li class=item><a href=/en/projects/sofa-mesh/overview>SOFAMesh</a></li><li class=item><a href=/en/projects/sofa-dashboard/overview>SOFADashboard</a></li></ul></div><div class=toc-list><h4 class=title>Tool Projects</h4><ul class=list><li class=item><a href=/en/projects/sofa-bolt/overview>SOFABolt</a></li><li class=item><a href=/en/projects/sofa-jraft/overview>SOFAJRaft</a></li><li class=item><a href=/en/projects/sofa-acts/overview>SOFAActs</a></li><li class=item><a href=https://www.sofastack.tech/en/projects/sofa-boot/sofa-ark-readme/>SOFAArk</a></li></ul></div><div class=toc-list><h4 class=title>Ecosystem Projects</h4><ul class=list><li class=item><a href=https://mosn.io/en>MOSN</a></li><li class=item><a href=https://occlum.io>Occlum</a></li><li class=item><a href=https://seata.io>Seata</a></li></ul></div></div></div></div><div class=body><ul class=leaf-section><li class=item><div class=link><a title="SOFABoot overview" href=/en/projects/sofa-boot/overview>SOFABoot overview</a></div></li><li class=item><div class=link><a title="Quick start guide" href=/en/projects/sofa-boot/quick-start>Quick start guide</a></div></li><li class=item><div class=link><a title="Dependency management" href=/en/projects/sofa-boot/dependency-management>Dependency management</a></div></li><li class=item><div class=link><a title="Health check" href=/en/projects/sofa-boot/health-check>Health check</a></div></li><li class=item><div class=link><a title="View version" href=/en/projects/sofa-boot/view-versions>View version</a></div></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Module isolation">Module isolation</a></div><ul class=leaf-section><li class=item><div class=link><a title="Modular development" href=/en/projects/sofa-boot/modular-development>Modular development</a></div></li><li class=item><div class=link><a title="Module configuration" href=/en/projects/sofa-boot/sofaboot-module>Module configuration</a></div></li><li class=item><div class=link><a title="Publish and reference JVM services" href=/en/projects/sofa-boot/module-service>Publish and reference JVM services</a></div></li><li class=item><div class=link><a title="Module parallel startup" href=/en/projects/sofa-boot/parallel-start>Module parallel startup</a></div></li><li class=item><div class=link><a title="SOFABoot profile" href=/en/projects/sofa-boot/sofaboot-profile>SOFABoot profile</a></div></li><li class=item><div class=link><a title="SOFABoot extension point" href=/en/projects/sofa-boot/extension>SOFABoot extension point</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Class Isolation">Class Isolation</a></div><ul class=leaf-section><li class=item><div class=link><a title="Introduction to SOFAArk" href=/en/projects/sofa-boot/sofa-ark-readme>Introduction to SOFAArk</a></div></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Quick start guide">Quick start guide</a></div><ul class=leaf-section><li class=item><div class=link><a title="Package into Ark Plugin" href=/en/projects/sofa-boot/sofa-ark-ark-plugin-demo>Package into Ark Plugin</a></div></li><li class=item><div class=link><a title="Package into Ark JAR" href=/en/projects/sofa-boot/sofa-ark-ark-demo>Package into Ark JAR</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="User guide">User guide</a></div><ul class=leaf-section><li class=item><div class=link><a title=Terminologies href=/en/projects/sofa-boot/sofa-ark-terminology>Terminologies</a></div></li><li class=item><div class="link -current"><a title="Ark JAR package" href=/en/projects/sofa-boot/sofa-ark-ark-jar>Ark JAR package</a></div></li><li class=item><div class=link><a title="Ark Plugin" href=/en/projects/sofa-boot/sofa-ark-ark-plugin>Ark Plugin</a></div></li><li class=item><div class=link><a title="Ark Biz" href=/en/projects/sofa-boot/sofa-ark-ark-biz>Ark Biz</a></div></li><li class=item><div class=link><a title="Use class isolation in SOFABoot" href=/en/projects/sofa-boot/classloader-isolation>Use class isolation in SOFABoot</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Developer guide">Developer guide</a></div><ul class=leaf-section><li class=item><div class=link><a title="Ark container startup process" href=/en/projects/sofa-boot/sofa-ark-startup>Ark container startup process</a></div></li><li class=item><div class=link><a title="Ark container plugin mechanism" href=/en/projects/sofa-boot/sofa-ark-plugin>Ark container plugin mechanism</a></div></li><li class=item><div class=link><a title="Ark container class loading mechanism" href=/en/projects/sofa-boot/sofa-ark-classloader>Ark container class loading mechanism</a></div></li></ul></li><li class=item><div class=link><a title="Release notes" href=/en/projects/sofa-boot/sofa-ark-release>Release notes</a></div></li><li class=item><div class=link><a title=Roadmap href=/en/projects/sofa-boot/sofa-ark-roadmap>Roadmap</a></div></li><li class=item><div class=link><a title=Contribution href=/en/projects/sofa-boot/sofa-ark-contribution>Contribution</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Dynamic deployment">Dynamic deployment</a></div><ul class=leaf-section><li class=item><div class=link><a title="Introduction to Jarslink" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-readme>Introduction to Jarslink</a></div></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Quick start guide">Quick start guide</a></div><ul class=leaf-section><li class=item><div class=link><a title="Create a SOFABoot application" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-app-demo>Create a SOFABoot application</a></div></li><li class=item><div class=link><a title="Use Jarslink for multi-application dynamic deployment" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-deploy-demo>Use Jarslink for multi-application dynamic deployment</a></div></li><li class=item><div class=link><a title="Communicate across applications" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-invocation-demo>Communicate across applications</a></div></li><li class=item><div class=link><a title="Integrate SOFABoot health check" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-health-demo>Integrate SOFABoot health check</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="User guide">User guide</a></div><ul class=leaf-section><li class=item><div class=link><a title="Application packaging" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-repackage>Application packaging</a></div></li><li class=item><div class=link><a title="Merged deployment" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-deploy>Merged deployment</a></div></li><li class=item><div class=link><a title="Interactive instruction" href=/en/projects/sofa-boot/sofa-jarslink-jarslink-instruction>Interactive instruction</a></div></li><li class=item><div class=link><a title=Lifecycle href=/en/projects/sofa-boot/sofa-jarslink-jarslink-lifecycle>Lifecycle</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Developer guide">Developer guide</a></div><ul class=leaf-section><li class=item><div class=link><a title="Compile Jarslink project" href=/en/projects/sofa-boot/sofa-jarslink-compile>Compile Jarslink project</a></div></li><li class=item><div class=link><a title=Architecture href=/en/projects/sofa-boot/sofa-jarslink-structure>Architecture</a></div></li><li class=item><div class=link><a title="Basic model" href=/en/projects/sofa-boot/sofa-jarslink-model>Basic model</a></div></li><li class=item><div class=link><a title="Version release" href=/en/projects/sofa-boot/sofa-jarslink-version>Version release</a></div></li></ul></li><li class=item><div class=link><a title="Release notes" href=/en/projects/sofa-boot/sofa-jarslink-release>Release notes</a></div></li><li class=item><div class=link><a title=Roadmap href=/en/projects/sofa-boot/sofa-jarslink-roadmap>Roadmap</a></div></li><li class=item><div class=link><a title=Contribution href=/en/projects/sofa-boot/sofa-jarslink-contribution>Contribution</a></div></li></ul></li><li class=item><div class=link><svg class="icon arrow" aria-hidden="true"><use xlink:href="#icon-arrow"/></svg><a title="Documentation for upgrade">Documentation for upgrade</a></div><ul class=leaf-section><li class=item><div class=link><a title="SOFABoot 2.5.x upgrade" href=/en/projects/sofa-boot/upgrade_2_5_x>SOFABoot 2.5.x upgrade</a></div></li><li class=item><div class=link><a title="SOFABoot 3.0 upgrade" href=/en/projects/sofa-boot/upgrade_3_x>SOFABoot 3.0 upgrade</a></div></li></ul></li></ul></div></div></div></aside><main class="ss-layout-main -card"><div class=ss-meta><div class=container><h1 class=title>Ark JAR package</h1><a class="edit-button -hidden-mobile" href=https://github.com/sofastack/sofastack.tech/edit/master/content/en/projects/sofa-boot/sofa-ark-ark-jar/index.md>Edit</a></div><div class=meta>Update time: 2021-01-20</div></div><article class=typo><p>﻿This section will introduce the directory structure of standard <code>Ark package</code> and how to use the maven plugin of <code>sofa-Ark-maven-plugin</code> to package and release an <code>Ark package</code>.</p><h2 id=maven-plugin>Maven plugin</h2><p>The officially provided <code>Maven</code> plugin <code>sofa-Ark-maven-plugin</code> can package common Java projects or Spring Boot projects into standard-format <code>Ark packages</code>. Based on <a href=https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#executable-jar-jar-file-structure>Fat Jar</a> technology, we can directly start an <code>Ark package</code> with the <code>java -jar</code> command. The <code>Maven</code> plugin coordinates are:</p><pre><code class=language-xml> &lt;plugin&gt;
    &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt;
    &lt;artifactId&gt;sofa-ark-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${sofa.ark.version}&lt;/version&gt;
&lt;/plugin&gt;
</code></pre><h2 id=goals>Goals</h2><p>The <code>sofa-Ark-maven-plugin</code> plugin provides <code>goal: repackage</code>, which can package the project into an executable <code>Ark package</code>, it can be configured as follows:</p><pre><code class=language-xml>&lt;build&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt;
        &lt;artifactId&gt;sofa-ark-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${sofa.ark.version}&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;id&gt;default-cli&lt;/id&gt;
                &lt;goals&gt;
                    &lt;goal&gt;repackage&lt;/goal&gt;
                &lt;/goals&gt;
            &lt;/excution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
            &lt;!-- Configuration information --&gt;
        &lt;/configuration&gt;
    &lt;/plugin&gt;
&lt;/build&gt;
</code></pre><h2 id=complete-configuration-template>Complete configuration template</h2><p>Complete <code>sofa-Ark-maven-plugin</code> configuration template is as follows:</p><pre><code class=language-xml>&lt;plugins&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt;
        &lt;artifactId&gt;sofa-ark-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;0.1.0&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;id&gt;default-cli&lt;/id&gt;
                &lt;goals&gt;
                    &lt;goal&gt;repackage&lt;/goal&gt;
                &lt;/goals&gt;
                &lt;configuration&gt;

                    &lt;!--The default packaging storage directory for Ark package and Ark biz is the project build directory--&gt;
                    &lt;outputDirectory&gt;../target&lt;/outputDirectory&gt;

                    &lt;!--The name of the generated Ark package file is ${artifactId} by default--&gt;
                    &lt;finalName&gt;demo-ark&lt;/finalName&gt;

                    &lt;!--Whether to skip execution of goal:repackage (false by default)--&gt;
                    &lt;skip&gt;false&lt;/skip&gt;

                    &lt;!--Whether to package, install, and release Ark biz (false by default). Refer to the Ark Biz file for details --&gt;
                    &lt;attach&gt;true&lt;/attach&gt;

                    &lt;!--Set the classifier of Ark package, which is null by default--&gt;
                    &lt;arkClassifier&gt;ark-classifier&lt;/arkClassifier&gt;

                    &lt;!-- Set the classifier of Ark biz, which is Ark-biz by default --&gt;
                    &lt;bizClassifier&gt;ark-biz-classifier&lt;/bizClassifier&gt;

                    &lt;!--Exclude the specified package dependency when packaging the Ark biz. The format is: ${groupId:artifactId} or  ${groupId:artifactId:classifier}--&gt;
                    &lt;excludes&gt;
                        &lt;exclude&gt;org.apache.commons:commons-lang3&lt;/exclude&gt;
                    &lt;/excludes&gt;

                    &lt;!--Exclude the package dependency that is the same as the specified groupId when packaging the Ark biz--&gt;
                    &lt;excludeGroupIds&gt;
                        &lt;excludeGroupId&gt;org.springframework&lt;/excludeGroupId&gt;
                    &lt;/excludeGroupIds&gt;

                    &lt;!--Exclude the package dependency that is the same as the specified artifactId when packaging the Ark biz--&gt;
                    &lt;excludeArtifactIds&gt;
                        &lt;excludeArtifactId&gt;sofa-ark-spi&lt;/excludeArtifactId&gt;
                    &lt;/excludeArtifactIds&gt;
                    
                    &lt;!--Configure the classes that are not indexed from the Ark plugin when packaging the Ark biz. Ark biz will prioritize indexing the export classes of all the Ark plugins by default.
                    After this configuration is added, Ark biz will load these classes only within itself, instead of prioritizing delegating the Ark plugin to load--&gt; 
                    &lt;denyImportClasses&gt;
                        &lt;class&gt;com.alipay.sofa.SampleClass1&lt;/class&gt;
                        &lt;class&gt;com.alipay.sofa.SampleClass2&lt;/class&gt;
                    &lt;/denyImportClasses&gt;
                    
                    &lt;!--Corresponding to denyImportClasses configuration, the package level can be configured--&gt;
                    &lt;denyImportPackages&gt;
                        &lt;package&gt;com.alipay.sofa&lt;/package&gt;
                        &lt;package&gt;org.springframework.*&lt;/package&gt;
                    &lt;/denyImportPackages&gt;
                    
                    &lt;!-- Configure resources that are not indexed from the Ark plugin when packaging the Ark biz. Ark biz will prioritize indexing the export resources of all the Ark plugins by default.
                    After this configuration is added, Ark biz will search for these resources only within itself, instead of searching in the Ark plugin--&gt;
                    &lt;denyImportResources&gt;
                        &lt;resource&gt;META-INF/spring/test1.xml&lt;/resource&gt;
                        &lt;resource&gt;META-INF/spring/test2.xml&lt;/resource&gt;
                    &lt;/denyImportResources&gt;

                &lt;/configuration&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
    &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre><p>The meaning of the configuration items is as follows:</p><ul><li><p><code>outputDirectory</code>: Ark package and Ark biz, which is the project build directory by default;</p></li><li><p><code>finalName</code>: generated Ark package file, which is ${artifactId} by default;</p></li><li><p><code>skip</code>: whether to skip the execution of goal:repackage, which is false by default;</p></li><li><p><code>attach</code>: whether to package, install, and release the Ark biz (refer to the Ark Biz file for details), which is false by default;</p></li><li><p><code>arkClassifier</code>: the classifier of the set Ark package, which is null by default;</p></li><li><p><code>bizClassifier</code>: the classifier of the set Ark biz, which is Ark-biz by default;</p></li><li><p><code>excludes</code>: exclude the specified package dependency when packaging the Ark biz. The format is: ${groupId:artifactId} or ${groupId:artifactId:classifier};</p></li><li><p><code>excludeGroupIds</code>: exclude the package dependency that is the same as the specified groupId when packaging the Ark biz;</p></li><li><p><code>excludeArtifactIds</code>: exclude the package dependency that is the same as the specified artifactId when packaging the Ark biz;</p></li><li><p><code>denyImportClasses</code>: configure the classes that are not indexed from the Ark plugin when packaging the Ark biz. Ark biz will prioritize indexing the exported classes of all the Ark plugins by default. After this configuration is added, Ark biz will only load these classes within itself, instead of prioritizing delegating the Ark plugin to load;</p></li><li><p><code>denyImportPackages</code>: corresponding to denyImportClasses configuration, the package level can be configured. Note that if there is a wildcard <code>*</code> at the end of the package name, the sub-packages prefixed with this package name will all be denied. If there is no wildcard <code>*</code> at the end of the package name, only those classes prefixed with the package name will be denied.</p></li><li><p><code>denyImportResources</code>: Configure the resources that are not indexed from the Ark plugin when packaging the Ark biz. Ark biz will prioritize indexing the export resources of all the Ark plugins by default. After this configuration is added, Ark biz will only search for these resources within itself, instead of searching in the Ark plugin</p></li></ul><h2 id=constructing>Constructing</h2><p>Take the Spring Boot Web project as an example, it takes only two steps to generate a standard <code>Ark package</code>
* With reference to the configuration template, configure the <code>sofa-Ark-maven-plugin</code> plugin in the pom.xml file of the Web module;
* Tap the <code>mvn pacakge</code> command in the Web module directory or the application root directory to generate <code>Ark package</code> and <code>Ark Biz</code> file in the <code>outputDirectory</code>, respectively named Web module <code>${artifactId}</code> and <code>${artifactId}-Ark-biz</code> by default. You can also set the classifier with <code>arkClassifier</code> and <code>bizClassifier</code> respectively. Tap the <code>mvn install</code> command to install the <code>Ark package</code> in the local repository, and install the &ldquo;Ark biz&rdquo; in the local repository if <code>attach</code> is set to <code>true</code>;</p><h2 id=releasing>Releasing</h2><p>Configure the repository address in the main pom file of project, tap the <code>mvn deploy</code> command to release the <code>Ark package</code>. Note that if <code>attach</code> is set to <code>true</code>, <code>Ark Biz</code> will also be released to the repository. In addition, the released <code>Ark Biz</code> package will have <code>classifier = Ark-biz</code> with it by default, and the classifier of <code>Ark biz</code> can be set with <code>bizClassifier</code>;</p><h2 id=typical-directory-structure-of-ark-package>Typical Directory Structure of Ark Package</h2><p>The following is the directory structure of an <code>Ark package</code> generated by packaging of a common <code>Spring Boot Web</code> application</p><pre><code class=language-text>.
├── META-INF
│   └── MANIFEST.MF
├── SOFA-ARK
│   ├── biz
│   │   └── sofa-boot-demo-web-1.0-SNAPSHOT-sofa-ark-biz.jar
│   ├── container
│   │   ├── META-INF
│   │   │   └── MANIFEST.MF
│   │   ├── com
│   │   │   └── alipay
│   │   │       └── sofa
│   │   │           └── ark
│   │   └── lib
│   │       ├── aopalliance-1.0.jar
│   │       ├── guava-16.0.1.jar
│   │       ├── guice-4.0.jar
│   │       ├── guice-multibindings-4.0.jar
│   │       ├── javax.inject-1.jar
│   │       ├── log4j-1.2.17.jar
│   │       ├── slf4j-api-1.7.21.jar
│   │       ├── slf4j-log4j12-1.7.21.jar
│   │       ├── sofa-ark-archive-0.1.0.jar
│   │       ├── sofa-ark-common-0.1.0.jar
│   │       ├── sofa-ark-container-0.1.0.jar
│   │       ├── sofa-ark-exception-0.1.0.jar
│   │       ├── sofa-ark-spi-0.1.0.jar
│   │       └── sofa-common-tools-1.0.11.jar
│   └── plugin
│       └── sofa-ark-rpc-plugin-2.2.5-ark-plugin.jar
└── com
    └── alipay
        └── sofa
            └── ark
                ├── bootstrap
                │   ├── ArkLauncher.class
                │   ├── ClasspathLauncher$ClassPathArchive.class
                │   ├── ClasspathLauncher.class
                │   ├── ContainerClassLoader.class
                │   ├── EntryMethod.class
                │   ├── ExecutableArchiveLauncher.class
                │   ├── Launcher.class
                │   ├── MainMethodRunner.class
                │   └── SofaArkBootstrap.class
                ├── loader
                │   ├── DirectoryBizModuleArchive.class
                │   ├── ExecutableArkBizJar$1.class
                │   ├── ExecutableArkBizJar$2.class
                │   ├── ExecutableArkBizJar$3.class
                │   ├── ExecutableArkBizJar.class
                │   ├── JarBizModuleArchive$1.class
                │   ├── JarBizModuleArchive.class
                │   ├── JarContainerArchive$1.class
                │   ├── JarContainerArchive.class
                │   ├── JarPluginArchive$1.class
                │   ├── JarPluginArchive.class
                │   ├── archive
                │   ├── data
                │   └── jar
                └── spi
                    └── archive
</code></pre><p>The files and directories under the above directory structure are described as follows:</p><ul><li><code>META-INF/MANIFEST.MF</code>: Records the meta information about the <code>Ark</code> package, with the most critical piece being the startup entry class: <code>Main-Class</code>, whose content is as follows:</li></ul><pre><code class=language-manifest>  Manifest-Version: 1.0
  Implementation-Title: sofa-ark-all
  Implementation-Version: 0.1.0
  Archiver-Version: Plexus Archiver
  Built-By: qilong.zql
  Sofa-Ark-Version: 0.1.0
  Specification-Title: sofa-ark-all
  Implementation-Vendor-Id: com.alipay.sofa
  Main-Class: com.alipay.sofa.ark.bootstrap.ArkLauncher
  Ark-Container-Root: SOFA-ARK/container/
  Created-By: Apache Maven 3.2.5
  Build-Jdk: 1.8.0_101
  Specification-Version: 0.1.0
  ArkVersion: 0.1.0
  Timestamp: 2018-03-13T18:13:06Z
</code></pre><p>As you can see, the entry class of the <code>ark package</code> is <code>com.alipay.sofa.ark.bootstrap.ArkLauncher</code></p><ul><li><p><code>com/alipay/sofa/ark/*</code>: Stores the boot classes required to start up the <code>Ark package</code> by executing the <code>java -jar</code> command;</p></li><li><p><code>SOFA-ARK/container</code>: Stores the <code>ark container</code> dependency packages (actually the directory where the following dependency packages will be unzipped);</p></li></ul><pre><code class=language-xml>&lt;dependency&gt;
    &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt;
    &lt;artifactId&gt;sofa-ark-all&lt;/artifactId&gt;
    &lt;version&gt;${sofa.ark.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><ul><li><p><code>SOFA-ARK/biz</code>: Stores all the <code>Ark Biz</code> packages (here resides a single <code>Ark Biz</code> because the demo project does not depend on any other <code>Ark Biz</code> packages)</p></li><li><p><code>SOFA-ARK/plugin</code>: Contains all the <code>Ark Plugin</code> packages that the application depends on. The demo project only depends on the RPC <code>Ark Plugin</code></p></li></ul></article></main></div><footer class=ss-footer><div class=container><div class=links><div class=cate><h2 class=cate-title>Resources</h2><a class=link href=https://github.com/sofastack>Github</a>
<a class=link href=https://gitee.com/sofastack/>Gitee</a>
<a class=link href=https://github.com/sofastack-guides>Samples</a></div><div class=cate><h2 class=cate-title>Social Media</h2><a class=link href=https://zhuanlan.zhihu.com/sofastack>Zhihu</a>
<a class=link href=https://weibo.com/sofastack>Weibo</a>
<a class=link href=https://twitter.com/sofastack_io>Twitter</a></div><div class=cate><h2 class=cate-title>Get Involved</h2><a class=link href=https://github.com/sofastack/sofastack.tech/issues>Feedback</a>
<a class=link href=https://github.com/sofastack/community>Community</a>
<a class=link href=https://github.com/sofastack/sofastack.tech/wiki>Wiki</a>
<a class=link href=mailto:sofa@alipay.cloud.com>Email</a></div><div class=cate><h2 class=cate-title>Ant Financial Open Source</h2><a class=link href=https://ant.design/>Ant Design</a>
<a class=link href=https://eggjs.org/>Egg</a>
<a class=link href=https://sqlflow.org>SQLFlow</a>
<a class=link href=https://tech.antfin.com/open-source>More</a></div></div><div class=qrcode><div><img class=qrcode-img src=/img/qrcode/qrcode_1.png><p class=qrcode-desc>Wechat Official Account</p></div><div><img class=qrcode-img src=/img/qrcode/qrcode_2.png><p class=qrcode-desc>DingTalk Group</p></div></div></div><div class=copyright><p>© 2019 - 2020 The SOFAStack Authors
<a href=http://beian.miit.gov.cn/>浙 ICP 备 16045294 号-3</a></p></div></footer></body></html>